<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Rinfon Chan&#39;s Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2019-02-23T15:22:43.602Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Rinfon Chan</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Androidè“ç‰™è¿æ¥é—®é¢˜</title>
    <link href="http://yoursite.com/2019/02/23/Android%E8%93%9D%E7%89%99%E8%BF%9E%E6%8E%A5%E9%97%AE%E9%A2%98/"/>
    <id>http://yoursite.com/2019/02/23/Androidè“ç‰™è¿æ¥é—®é¢˜/</id>
    <published>2019-02-23T15:22:43.602Z</published>
    <updated>2019-02-23T15:22:43.602Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>éƒ¨åˆ†åœ¨ä½¿ç”¨<a href="https://github.com/Jasonchenlijian/FastBle" target="_blank" rel="noopener">FastBleLib</a>çš„æ—¶å€™ï¼Œä¼šå‡ºç°è¿æ¥å¤±è´¥<br>é”™è¯¯ç ä¸º<code>BleException { code=102, description=&#39;GATT discover services exception occurred!&#39;}</code>ã€æˆ–è€…è¿æ¥ä¸Šäº†ï¼Œå´æ‰¾ä¸åˆ°è¯»å†™æœåŠ¡ã€‚</p><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><ul><li>è®¾å¤‡è“ç‰™åº“çš„é—®é¢˜ï¼Œéœ€è¦æ›´æ¢è“ç‰™åº“</li><li>åœ¨è¿›è¡Œè“ç‰™è¿æ¥çš„æ—¶å€™ï¼Œé‡è¿å¤šæ¬¡</li><li>å»åˆ°ç³»ç»Ÿè“ç‰™è®¾ç½®é¡µé¢ï¼Œæ‰‹åŠ¨ç‚¹å‡»è“ç‰™é…å¯¹ï¼Œç„¶åå†å›åˆ°appå†…è¿›è¡Œè“ç‰™é‡è¿ã€‚<a id="more"></a></li></ul><p><strong>å…¶å®å¤šæ•°éƒ½æ˜¯å› ä¸ºè®¾å¤‡è“ç‰™åº“çš„é—®é¢˜å¯¼è‡´ï¼Œå¯ä»¥å°è¯•è¿æ¥å…¶ä»–è®¾å¤‡çš„è“ç‰™ï¼Œæ˜¯å¦ä¼šå‡ºç°ç›¸åŒçš„é—®é¢˜</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;é—®é¢˜&quot;&gt;&lt;a href=&quot;#é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜&quot;&gt;&lt;/a&gt;é—®é¢˜&lt;/h2&gt;&lt;p&gt;éƒ¨åˆ†åœ¨ä½¿ç”¨&lt;a href=&quot;https://github.com/Jasonchenlijian/FastBle&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;FastBleLib&lt;/a&gt;çš„æ—¶å€™ï¼Œä¼šå‡ºç°è¿æ¥å¤±è´¥&lt;br&gt;é”™è¯¯ç ä¸º&lt;code&gt;BleException { code=102, description=&amp;#39;GATT discover services exception occurred!&amp;#39;}&lt;/code&gt;ã€æˆ–è€…è¿æ¥ä¸Šäº†ï¼Œå´æ‰¾ä¸åˆ°è¯»å†™æœåŠ¡ã€‚&lt;/p&gt;
&lt;h2 id=&quot;è§£å†³æ–¹æ³•&quot;&gt;&lt;a href=&quot;#è§£å†³æ–¹æ³•&quot; class=&quot;headerlink&quot; title=&quot;è§£å†³æ–¹æ³•&quot;&gt;&lt;/a&gt;è§£å†³æ–¹æ³•&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;è®¾å¤‡è“ç‰™åº“çš„é—®é¢˜ï¼Œéœ€è¦æ›´æ¢è“ç‰™åº“&lt;/li&gt;
&lt;li&gt;åœ¨è¿›è¡Œè“ç‰™è¿æ¥çš„æ—¶å€™ï¼Œé‡è¿å¤šæ¬¡&lt;/li&gt;
&lt;li&gt;å»åˆ°ç³»ç»Ÿè“ç‰™è®¾ç½®é¡µé¢ï¼Œæ‰‹åŠ¨ç‚¹å‡»è“ç‰™é…å¯¹ï¼Œç„¶åå†å›åˆ°appå†…è¿›è¡Œè“ç‰™é‡è¿ã€‚
    
    </summary>
    
    
      <category term="android" scheme="http://yoursite.com/tags/android/"/>
    
  </entry>
  
  <entry>
    <title>é»‘è‹¹æœå®‰è£…</title>
    <link href="http://yoursite.com/2019/02/23/%E9%BB%91%E8%8B%B9%E6%9E%9C%E5%AE%89%E8%A3%85/"/>
    <id>http://yoursite.com/2019/02/23/é»‘è‹¹æœå®‰è£…/</id>
    <published>2019-02-23T15:08:45.762Z</published>
    <updated>2019-02-23T15:08:45.762Z</updated>
    
    <content type="html"><![CDATA[<p>##å‰è¨€<br>ä¹‹å‰åœ¨æˆ‘çš„Macbook Proé‡Œé¢è¿›è¡Œé¡¹ç›®ç¼–è¯‘çš„æ—¶å€™å‘ç°ï¼Œå®åœ¨æ˜¯å¤ªæ…¢äº†ã€‚è€Œä¸”è¿˜è€æ˜¯ç¼–è¯‘å¤±è´¥ï¼Œæ€»æ„Ÿè§‰å“ªé‡Œå‡ºé—®é¢˜äº†ã€‚æ— å¥ˆå·²ç»å¤ªæ—§äº†ï¼Œå¹¶ä¸æ˜¯å¾ˆæƒ³å»ç¢°å®ƒã€‚ä½†å®¶é‡Œå·¥ä½œéœ€è¦ï¼Œæƒ³æƒ³å°å¼ä¹Ÿä¸èƒ½ç™½ç™½æµªè´¹ã€‚æ‰€ä»¥å°±æŠ˜è…¾äº†ä¸€ä¸‹é»‘è‹¹æœã€‚</p><h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><ul><li>i5 9600k</li><li>GTX 1060 6g</li><li>æŠ€å˜‰Z360M aorus pro<a id="more"></a></li><li>ALC892</li></ul><h2 id="å®‰è£…è¿‡ç¨‹"><a href="#å®‰è£…è¿‡ç¨‹" class="headerlink" title="å®‰è£…è¿‡ç¨‹"></a>å®‰è£…è¿‡ç¨‹</h2><p>å®‰è£…è¿‡ç¨‹ä»¥åŠèµ„æ–™å‚è€ƒ<a href="https://blog.daliansky.net/MacOS-installation-tutorial-XiaoMi-Pro-installation-process-records.html" target="_blank" rel="noopener">é»‘æœå°å…µ</a>ï¼Œç”±äº10.14 Nå¡é©±åŠ¨ä¸äº†ï¼Œæ‰€ä»¥æˆ‘è£…çš„æ˜¯10.13ã€‚</p><h2 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h2><h3 id="æ˜¾å¡é—®é¢˜"><a href="#æ˜¾å¡é—®é¢˜" class="headerlink" title="æ˜¾å¡é—®é¢˜"></a>æ˜¾å¡é—®é¢˜</h3><p>ç›´æ¥ä½¿ç”¨Nvidia webdriveræ¥é©±åŠ¨ï¼Œ<a href="https://github.com/Benjamin-Dobell/nvidia-update" target="_blank" rel="noopener">å‚»ç™½ç”œçš„é©±åŠ¨æ–¹æ³•</a>ï¼Œé©±åŠ¨æˆåŠŸåï¼Œéœ€è¦ä¿®æ”¹efié‡Œé¢çš„config.plistï¼ŒæŠŠnvidiawebå‹¾é€‰ä¸­ï¼Œä¸ç„¶é‡å¯åè¿˜æ˜¯ä½¿ç”¨æ ¸æ˜¾é©±åŠ¨ï¼Œå¹¶ä¸”ä½ åœ¨macç³»ç»Ÿé‡Œé¢å»è®¾ç½®æ˜¯æ²¡æœ‰ç”¨çš„ã€‚<br><img src="https://i.imgur.com/Ov3NU3R.jpg" alt="-w1220"></p><h3 id="å£°å¡é©±åŠ¨"><a href="#å£°å¡é©±åŠ¨" class="headerlink" title="å£°å¡é©±åŠ¨"></a>å£°å¡é©±åŠ¨</h3><p>å£°å¡æ¯”è¾ƒéº»çƒ¦ï¼Œè¯•è¿‡ç”¨<a href="https://github.com/acidanthera/AppleALC" target="_blank" rel="noopener">AppleALC</a>æ¥é©±åŠ¨ï¼Œä¸çŸ¥é“æˆ‘æ²¡çœ‹æ‡‚è¿˜æ˜¯æ€ä¹ˆçš„ï¼Œåæ­£892å£°å¡çš„idæˆ‘éƒ½è¯•è¿‡ä¸€éï¼Œè¿˜æ˜¯é©±åŠ¨ä¸äº†ï¼Œæœ€åç”¨äº†<a href="https://www.ozmacos.com/1684.html" target="_blank" rel="noopener">AppleHDA pather</a>æ¥é©±åŠ¨ï¼Œlayoutidé€‰5ï¼Œæœ€ç»ˆæˆåŠŸäº†ã€‚<br><strong>æ³¨æ„ï¼ŒEFIçš„clover/kexts/other/é‡Œé¢ä¸€å®šè¦æœ‰AppleALC.kextï¼Œå¹¶ä¸”ç³»ç»Ÿçš„s/l/eé‡Œé¢çš„AppleHDA.kextä¸€å®šè¦æ˜¯æ²¡æœ‰ä¿®æ”¹è¿‡çš„</strong><br>ç¡çœ å”¤é†’åæ²¡æœ‰å£°éŸ³ï¼Œæœç´¢äº†ä¸€éä¹Ÿè¯•è¿‡ä¸€éæ‰€è°“çš„è§£å†³æ–¹æ¡ˆï¼Œå‡æ— æ•ˆï¼Œæƒ³åˆ°æ—¥å¸¸ä¸­æˆ‘ä¼‘çœ çš„æœºä¼šå¹¶ä¸å¤šï¼Œæ‰€ä»¥å°±å½“æ²¡äº‹å‘ç”Ÿå§ğŸ˜‚ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å£°å¡çš„é—®é¢˜å¡äº†å¥½å¤šå¤©æ‰èƒ½è§£å†³ï¼Œgoogleä¹Ÿéœ€è¦è‰ºæœ¯æ‰èƒ½å¾—åˆ°ä½ æƒ³è¦çš„ç­”æ¡ˆã€‚ç¼–è¯‘é¡¹ç›®ä¹Ÿå¿«å¤šäº†ã€‚<br><strong>é»‘è‹¹æœæŠ˜è…¾åˆ°æœ€åè‚¯å®šæ˜¯ç™½è‹¹æœ</strong></p><blockquote><p>ç”Ÿå‘½ä¸æ­¢ï¼ŒæŠ˜è…¾ä¸åœã€‚</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;##å‰è¨€&lt;br&gt;ä¹‹å‰åœ¨æˆ‘çš„Macbook Proé‡Œé¢è¿›è¡Œé¡¹ç›®ç¼–è¯‘çš„æ—¶å€™å‘ç°ï¼Œå®åœ¨æ˜¯å¤ªæ…¢äº†ã€‚è€Œä¸”è¿˜è€æ˜¯ç¼–è¯‘å¤±è´¥ï¼Œæ€»æ„Ÿè§‰å“ªé‡Œå‡ºé—®é¢˜äº†ã€‚æ— å¥ˆå·²ç»å¤ªæ—§äº†ï¼Œå¹¶ä¸æ˜¯å¾ˆæƒ³å»ç¢°å®ƒã€‚ä½†å®¶é‡Œå·¥ä½œéœ€è¦ï¼Œæƒ³æƒ³å°å¼ä¹Ÿä¸èƒ½ç™½ç™½æµªè´¹ã€‚æ‰€ä»¥å°±æŠ˜è…¾äº†ä¸€ä¸‹é»‘è‹¹æœã€‚&lt;/p&gt;
&lt;h2 id=&quot;é…ç½®&quot;&gt;&lt;a href=&quot;#é…ç½®&quot; class=&quot;headerlink&quot; title=&quot;é…ç½®&quot;&gt;&lt;/a&gt;é…ç½®&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;i5 9600k&lt;/li&gt;
&lt;li&gt;GTX 1060 6g&lt;/li&gt;
&lt;li&gt;æŠ€å˜‰Z360M aorus pro
    
    </summary>
    
    
      <category term="é»‘è‹¹æœ" scheme="http://yoursite.com/tags/%E9%BB%91%E8%8B%B9%E6%9E%9C/"/>
    
  </entry>
  
  <entry>
    <title>Androidè‡ªåŠ¨åŒ–æµ‹è¯•æµç¨‹</title>
    <link href="http://yoursite.com/2019/02/14/Android%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E6%B5%81%E7%A8%8B/"/>
    <id>http://yoursite.com/2019/02/14/Androidè‡ªåŠ¨åŒ–æµ‹è¯•æµç¨‹/</id>
    <published>2019-02-14T03:19:03.000Z</published>
    <updated>2019-02-14T03:19:03.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ç°åœ¨åŸºæœ¬ä¸Šé¡¹ç›®æ²¡æœ‰ä¸€ä¸ªå®Œæ•´è€Œä¸”è‡ªåŠ¨åŒ–çš„æµ‹è¯•æµç¨‹ï¼Œæ‰€ä»¥æ€»ä¼šå‡ºç°ä¸€äº›ä½çº§çš„ï¼Œé‡å¤çš„é”™è¯¯ã€‚æ‰€ä»¥éœ€è¦ä¸€ä¸ªå®Œæ•´å®Œå–„çš„è‡ªåŠ¨åŒ–æµ‹è¯•æµç¨‹ã€‚</p><h2 id="Uiautomator2-Pytest-Allure"><a href="#Uiautomator2-Pytest-Allure" class="headerlink" title="Uiautomator2+Pytest+Allure"></a>Uiautomator2+Pytest+Allure</h2><p><strong>uiautomator2</strong> æ˜¯ä¸€ä¸ªAndroid UIè‡ªåŠ¨åŒ–æ¡†æ¶ï¼Œæ”¯æŒPythonç¼–å†™æµ‹è¯•è„šæœ¬å¯¹è®¾å¤‡è¿›è¡Œè‡ªåŠ¨åŒ–ã€‚åº•å±‚åŸºäºGoogle uiautomatorã€‚</p><p>ç‰¹ç‚¹ï¼š</p><ul><li>åŸºäºuiautomatorçš„æ¨¡æ‹Ÿç‚¹å‡»ï¼Œè§¦æ‘¸äº‹ä»¶ç­‰<a id="more"></a></li><li>é›†æˆæ¨¡æ‹Ÿè¾“å…¥æ³•è¾“å…¥</li><li>é›†æˆåˆ°ç½‘é¡µç«¯çš„æ§åˆ¶</li><li>å¯ä»¥ä¸åŸºäºappåšç‹¬ç«‹æ§åˆ¶ï¼Œè¿è¡Œæµç•…</li><li>å¯ä»¥é€šè¿‡å±€åŸŸç½‘wifiå®ç°å¹¶å‘æµ‹è¯•</li></ul><p>é™åˆ¶ï¼š</p><ul><li>éœ€è¦pythonè¯­è¨€åŸºç¡€</li></ul><p><strong>pytest</strong><br>ä¸€ä¸ªæµ‹è¯•çš„æ¡†æ¶</p><p><strong><a href="https://github.com/allure-framework/allure-python/blob/master/allure-pytest/README.rst" target="_blank" rel="noopener">allure</a></strong><br>æµ‹è¯•æŠ¥å‘Šçš„è¾“å‡ºï¼Œå…·ä½“ä½¿ç”¨è¯·çœ‹<a href="https://docs.qameta.io/allure/#_pytest" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></p><h2 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h2><p><a href="https://github.com/openatx/uiautomator2#watcher" target="_blank" rel="noopener">å®˜æ–¹Git</a><br><strong>è¯·è‡ªè¡Œå®‰è£…python</strong><br><strong>æ–°å»ºä¸€ä¸ªæµ‹è¯•ç›®å½•ï¼Œcdè¿›å»ï¼Œåœ¨æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤</strong><br>å‡†å¤‡Pythonè™šæ‹Ÿç¯å¢ƒ Virtualenv</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pip install virtualenv</span><br><span class="line">virtualenv venv</span><br><span class="line"></span><br><span class="line"><span class="comment"># Linux or Mac</span></span><br><span class="line">. venv/bin/activate</span><br><span class="line"></span><br><span class="line"><span class="comment"># Windows</span></span><br><span class="line">venv\Scripts\activate.bat</span><br></pre></td></tr></table></figure><p>å®‰è£…ç›¸å…³çš„pythonåº“</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">pip install pytest==3.7</span><br><span class="line">pip install --upgrade --pre uiautomator2</span><br><span class="line">pip install pillow</span><br><span class="line">brew install allure</span><br><span class="line"><span class="comment"># æ³¨æ„ï¼Œpytest-allure-adaptorå·²ç»ä¸åœ¨ç»´æŠ¤äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨allure-pytestï¼Œå¹¶ä¸”allure-pytestä¸èƒ½ä¸pytest-allure-adaptoråŒæ—¶å­˜åœ¨</span></span><br><span class="line"><span class="comment"># pip install pytest-allure-adaptor</span></span><br><span class="line">pip install allure-pytest</span><br><span class="line"></span><br><span class="line"><span class="comment"># init æ‰€æœ‰çš„å·²ç»è¿æ¥åˆ°ç”µè„‘çš„è®¾å¤‡</span></span><br><span class="line">python -m uiautomator2 init</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…webeditor</span></span><br><span class="line">pip install --pre --upgrade weditor</span><br><span class="line"><span class="comment"># å¯åŠ¨ç¼–è¾‘å™¨</span></span><br><span class="line">python -m weditor</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤±è´¥é‡è¯•</span></span><br><span class="line">pip install pytest-rerunfailures</span><br></pre></td></tr></table></figure><p>æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œè¿›è¡Œç®€å•æµ‹è¯•<br><code>main.py</code><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">inc</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> x + <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test_answer</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">assert</span> inc(<span class="number">3</span>) == <span class="number">5</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test_answer2</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">assert</span> inc(<span class="number">4</span>) == <span class="number">5</span></span><br></pre></td></tr></table></figure></p><p>å‘½ä»¤è¡Œæ‰§è¡Œï¼š<br><code>pytest main.py --alluredir=testreport/</code><br>ä¹‹åä¼šåœ¨åŒç›®å½•ç”Ÿæˆä¸€ä¸ªtestreportæ–‡ä»¶å¤¹<br><code>allure serve testreport/</code></p><p>å¦‚å›¾æ‰€ç¤ºï¼š<br><img src="https://i.imgur.com/J001g5A.jpg" alt="-w1438"></p><h2 id="fixture"><a href="#fixture" class="headerlink" title="fixture"></a>fixture</h2><p>fixtureä½œä¸ºpytestçš„ç²¾åæ‰€åœ¨ï¼Œéœ€è¦å•ç‹¬çš„è¯´ä¸€ä¸‹ã€‚å¦‚æœæœ‰javaçš„aopåŸºç¡€ï¼Œé‚£ä¹ˆå°±å¾ˆå¥½äº†è§£äº†ã€‚å…¶å®fixtureå°±æ˜¯AOPï¼ŒAOPå¯ä»¥åœ¨ä¸€ä¸ªæ–¹æ³•æ‰§è¡Œå‰åå¢åŠ ä¸€ä¸‹ä»£ç é€»è¾‘è¾¾åˆ°æ— ç—›æ¤å…¥ã€‚ä¾‹å¦‚æ—¥å¸¸ç»Ÿè®¡ï¼Œdebugç­‰ï¼Œè€ŒfixtureåŒç†ã€‚</p><p><strong>æˆ‘èƒ½ç”¨å®ƒåšä»€ä¹ˆï¼Ÿ</strong></p><p>æ¯æ¬¡æµ‹è¯•ä¹‹å‰ï¼Œéœ€è¦æ¸…ç†æµ‹è¯•ç¯å¢ƒï¼Œéœ€è¦æ£€æŸ¥appçš„æƒ…å†µã€‚ä¾‹å¦‚è§£é”æ‰‹æœºã€æ¸…é™¤appæ•°æ®ç¼“å­˜ã€æ‰“å¼€appã€æ¯æ¬¡æµ‹è¯•ä¹‹åéœ€è¦å…³é—­appç­‰ç­‰æ“ä½œï¼Œéƒ½å¯ä»¥é€šè¿‡fixtureæ¥å®ç°ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ç°åœ¨åŸºæœ¬ä¸Šé¡¹ç›®æ²¡æœ‰ä¸€ä¸ªå®Œæ•´è€Œä¸”è‡ªåŠ¨åŒ–çš„æµ‹è¯•æµç¨‹ï¼Œæ‰€ä»¥æ€»ä¼šå‡ºç°ä¸€äº›ä½çº§çš„ï¼Œé‡å¤çš„é”™è¯¯ã€‚æ‰€ä»¥éœ€è¦ä¸€ä¸ªå®Œæ•´å®Œå–„çš„è‡ªåŠ¨åŒ–æµ‹è¯•æµç¨‹ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Uiautomator2-Pytest-Allure&quot;&gt;&lt;a href=&quot;#Uiautomator2-Pytest-Allure&quot; class=&quot;headerlink&quot; title=&quot;Uiautomator2+Pytest+Allure&quot;&gt;&lt;/a&gt;Uiautomator2+Pytest+Allure&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;uiautomator2&lt;/strong&gt; æ˜¯ä¸€ä¸ªAndroid UIè‡ªåŠ¨åŒ–æ¡†æ¶ï¼Œæ”¯æŒPythonç¼–å†™æµ‹è¯•è„šæœ¬å¯¹è®¾å¤‡è¿›è¡Œè‡ªåŠ¨åŒ–ã€‚åº•å±‚åŸºäºGoogle uiautomatorã€‚&lt;/p&gt;
&lt;p&gt;ç‰¹ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŸºäºuiautomatorçš„æ¨¡æ‹Ÿç‚¹å‡»ï¼Œè§¦æ‘¸äº‹ä»¶ç­‰
    
    </summary>
    
    
      <category term="android" scheme="http://yoursite.com/tags/android/"/>
    
      <category term="pytest" scheme="http://yoursite.com/tags/pytest/"/>
    
      <category term="è‡ªåŠ¨åŒ–æµ‹è¯•" scheme="http://yoursite.com/tags/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>Builderæ¨¡å¼</title>
    <link href="http://yoursite.com/2019/01/21/Builder%E6%A8%A1%E5%BC%8F/"/>
    <id>http://yoursite.com/2019/01/21/Builderæ¨¡å¼/</id>
    <published>2019-01-20T16:49:07.000Z</published>
    <updated>2019-01-20T16:49:07.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¹‹å‰åœ¨ç ”ç©¶RxJavaçš„æ—¶å€™ï¼Œå°±æ·±æ·±çš„è¿·ä¸Šäº†è¿™ç§ä»£ç è°ƒç”¨æ–¹å¼ï¼Œç®€æ´æ˜äº†ï¼Œé€»è¾‘ä¹Ÿæ¸…æ™°ã€‚åå°åœ¨ä½¿ç”¨Glideçš„æ—¶å€™å‘ç°è¿™ç§<code>.</code>è°ƒç”¨æ–¹æ³•çœŸçš„å¾ˆèˆ’æœã€‚<br><a id="more"></a><br>é™„ä¸Šä¸€æ®µä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Glide.with(<span class="keyword">this</span>)</span><br><span class="line">.load(imageUrl)</span><br><span class="line">.placeholder(image)</span><br><span class="line">.error(image)</span><br><span class="line">.into(imageView);</span><br></pre></td></tr></table></figure><p>ä½†åæ¥æ‰å‘ç°ï¼Œæœ€å¥½çš„ä¾‹å­å°±æ˜¯Androidè‡ªå¸¦çš„AlertDialog.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> AlertDialog.Builder(MainActivity.<span class="keyword">this</span>)</span><br><span class="line">               .setTitle(<span class="string">"One Button"</span>)</span><br><span class="line">               .setMessage(<span class="string">"Thanks for visiting The Code of a Ninja - codeofaninja.com"</span>)</span><br><span class="line">               .setPositiveButton(<span class="string">"OK"</span>, <span class="keyword">new</span> DialogInterface.OnClickListener() &#123;</span><br><span class="line">                   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(DialogInterface dialog, <span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">                       dialog.cancel();</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;).show();</span><br></pre></td></tr></table></figure><h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><p>ç°åœ¨çœ‹ä¸€æ®µä»£ç <br><code>AlertDialog</code>æºç <br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> sex)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(name, sex, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> sex, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(name,<span class="string">""</span>,age,sex);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String firstName, String lastName, <span class="keyword">int</span> age, <span class="keyword">int</span> sex)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.firstName = firstName;</span><br><span class="line">        <span class="keyword">this</span>.lastName = lastName;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">        <span class="keyword">this</span>.sex = sex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><code>person</code>æœ‰è‹¥å¹²ä¸ªå±æ€§ï¼Œæœ‰ä¸‰ä¸ªæ„é€ æ–¹æ³•ã€‚å€˜è‹¥æŸå¤©personå¢åŠ äº†å‡ ä¸ªå­—æ®µï¼Œç„¶åä½ å°±å•ªå•ªå•ªçš„æŠŠè¿™å‡ ä¸ªå­—æ®µåŠ åœ¨äº†åé¢</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String firstName, String lastName, <span class="keyword">int</span> age, <span class="keyword">int</span> sex,String arg1,String arg2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.firstName = firstName;</span><br><span class="line">        <span class="keyword">this</span>.lastName = lastName;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">        <span class="keyword">this</span>.sex = sex;</span><br><span class="line">        <span class="keyword">this</span>.arg1 = arg1;</span><br><span class="line">        <span class="keyword">this</span>.arg2 = arg2;</span><br></pre></td></tr></table></figure><p>è¿™æ ·çœ‹èµ·æ¥å°±å¾ˆè‡ƒè‚¿ï¼Œå¦‚æœå‚æ•°å†å¤šå‘¢ï¼Œçœ‹èµ·æ¥å°±å¾ˆéš¾å—äº†ã€‚è°ƒç”¨çš„æ—¶å€™è¿˜éœ€è¦å»ç¡®è®¤æ¯ä¸€ä¸ªä½ç½®çš„å‚æ•°æ˜¯ä»€ä¹ˆã€‚<br>ä¸¤ç§æ–¹å¼å¯ä»¥è§£å†³ï¼š</p><ol><li>Set/Get</li><li>Builder</li></ol><h3 id="Set-Getæ–¹æ³•çš„ç¡®å¯ä»¥è§£å†³ã€‚"><a href="#Set-Getæ–¹æ³•çš„ç¡®å¯ä»¥è§£å†³ã€‚" class="headerlink" title="Set/Getæ–¹æ³•çš„ç¡®å¯ä»¥è§£å†³ã€‚"></a>Set/Getæ–¹æ³•çš„ç¡®å¯ä»¥è§£å†³ã€‚</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    String lastName;</span><br><span class="line">    ...</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(Builder builder)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.firstName = builder.name;</span><br><span class="line">        <span class="keyword">this</span>.lastName = builder.lastName;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯·æ³¨æ„è¿™é‡Œè¿”å›çš„æ˜¯ä¸€ä¸ªPersonç±»è€Œä¸æ˜¯voidï¼Œå› ä¸ºå¯ä»¥é“¾å¼è°ƒç”¨</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Person <span class="title">SetName</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Person <span class="title">SetLastName</span><span class="params">(String lastName)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = lastName;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getLastName</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.lastName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Builder"><a href="#Builder" class="headerlink" title="Builder"></a>Builder</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    String lastName;</span><br><span class="line">    ...</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(Builder builder)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.firstName = builder.name;</span><br><span class="line">        <span class="keyword">this</span>.lastName = builder.lastName;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è¯·æ³¨æ„è¿™é‡Œè¿”å›çš„æ˜¯ä¸€ä¸ªPersonç±»è€Œä¸æ˜¯voidï¼Œå› ä¸ºå¯ä»¥é“¾å¼è°ƒç”¨</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Person <span class="title">SetName</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Person <span class="title">SetLastName</span><span class="params">(String lastName)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = lastName;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getLastName</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.lastName;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Builder</span></span>&#123;</span><br><span class="line">        String name;</span><br><span class="line">        String lastName;</span><br><span class="line">        ...</span><br><span class="line">        <span class="function"><span class="keyword">public</span> Builder <span class="title">SetName</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">                <span class="keyword">this</span>.name = name;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;   </span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">public</span> Builder <span class="title">SetLastName</span><span class="params">(String lastName)</span></span>&#123;</span><br><span class="line">                <span class="keyword">this</span>.name = lastName;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line">            </span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getLastName</span><span class="params">()</span></span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>.lastName;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Builder <span class="title">createBuilder</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> Builder();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">public</span> Person <span class="title">Build</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> Person(<span class="keyword">this</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è°ƒç”¨<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Person p = Builder.createBuilder()</span><br><span class="line"> .SetName(<span class="string">"name"</span>)</span><br><span class="line"> .SetLastName(<span class="string">"lastname"</span>)</span><br><span class="line"> .Build()</span><br></pre></td></tr></table></figure></p><blockquote><p>ä¾‹å­æœ‰å¾ˆå¤šï¼Œä½†ä¸å˜çš„æ˜¯æ€æƒ³ã€‚</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ä¹‹å‰åœ¨ç ”ç©¶RxJavaçš„æ—¶å€™ï¼Œå°±æ·±æ·±çš„è¿·ä¸Šäº†è¿™ç§ä»£ç è°ƒç”¨æ–¹å¼ï¼Œç®€æ´æ˜äº†ï¼Œé€»è¾‘ä¹Ÿæ¸…æ™°ã€‚åå°åœ¨ä½¿ç”¨Glideçš„æ—¶å€™å‘ç°è¿™ç§&lt;code&gt;.&lt;/code&gt;è°ƒç”¨æ–¹æ³•çœŸçš„å¾ˆèˆ’æœã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://yoursite.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>Redis Dockeræ­å»º</title>
    <link href="http://yoursite.com/2019/01/17/Redis%20Docker%E6%90%AD%E5%BB%BA/"/>
    <id>http://yoursite.com/2019/01/17/Redis Dockeræ­å»º/</id>
    <published>2019-01-17T14:11:55.000Z</published>
    <updated>2019-01-17T14:11:55.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Dockerå®‰è£…"><a href="#Dockerå®‰è£…" class="headerlink" title="Dockerå®‰è£…"></a>Dockerå®‰è£…</h2><ol><li>å®˜ç½‘ä¸‹è½½<a href="https://download.docker.com/mac/stable/Docker.dmg" target="_blank" rel="noopener">Docker</a></li><li>åŒå‡»å®‰è£…</li></ol><h2 id="Rediså®‰è£…"><a href="#Rediså®‰è£…" class="headerlink" title="Rediså®‰è£…"></a>Rediså®‰è£…</h2><ul><li><p>å‘½ä»¤è¡Œæ‰§è¡Œ<code>docker search  redis</code><br>å¾—åˆ°ç»“æœ<br><img src="https://i.imgur.com/AT7BF7k.jpg" alt="-w622"></p><a id="more"></a></li><li><p>å®‰è£…ï¼š<code>docker pull  redis:5.0</code></p></li><li><p>è¿è¡Œï¼š<code>docker run -p 6379:6379 -v $PWD/data:/data  -d redis:3.2 redis-server --appendonly yes</code><br>   <strong>-p 6379:6379</strong> : å°†å®¹å™¨çš„6379ç«¯å£æ˜ å°„åˆ°ä¸»æœºçš„6379ç«¯å£<br>  <strong>-v $PWD/data:/data</strong> : å°†ä¸»æœºä¸­å½“å‰ç›®å½•ä¸‹çš„dataæŒ‚è½½åˆ°å®¹å™¨çš„/data</p><p>  <strong>redis-server â€“appendonly yes</strong> : åœ¨å®¹å™¨æ‰§è¡Œredis-serverå¯åŠ¨å‘½ä»¤ï¼Œå¹¶æ‰“å¼€redisæŒä¹…åŒ–é…ç½®</p></li></ul><p><img src="https://i.imgur.com/3vLZPHG.jpg" alt="-w640"></p><ul><li>æŸ¥çœ‹å®¹å™¨å¯åŠ¨æƒ…å†µ<br>  <code>docker ps</code><br>  <img src="https://i.imgur.com/yyNn03L.jpg" alt="-w1009"></li><li>è¿æ¥å®¹å™¨<br>  <code>docker exec -it d0347562c1a5 redis-cli</code></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Dockerå®‰è£…&quot;&gt;&lt;a href=&quot;#Dockerå®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;Dockerå®‰è£…&quot;&gt;&lt;/a&gt;Dockerå®‰è£…&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;å®˜ç½‘ä¸‹è½½&lt;a href=&quot;https://download.docker.com/mac/stable/Docker.dmg&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Docker&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;åŒå‡»å®‰è£…&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;Rediså®‰è£…&quot;&gt;&lt;a href=&quot;#Rediså®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;Rediså®‰è£…&quot;&gt;&lt;/a&gt;Rediså®‰è£…&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;å‘½ä»¤è¡Œæ‰§è¡Œ&lt;code&gt;docker search  redis&lt;/code&gt;&lt;br&gt;å¾—åˆ°ç»“æœ&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/AT7BF7k.jpg&quot; alt=&quot;-w622&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="Docker" scheme="http://yoursite.com/tags/Docker/"/>
    
      <category term="Redis" scheme="http://yoursite.com/tags/Redis/"/>
    
  </entry>
  
  <entry>
    <title>Macå‡çº§Pythonåˆ°3.7</title>
    <link href="http://yoursite.com/2019/01/16/Mac%E5%8D%87%E7%BA%A7Python%E5%88%B03.7/"/>
    <id>http://yoursite.com/2019/01/16/Macå‡çº§Pythonåˆ°3.7/</id>
    <published>2019-01-16T09:21:52.000Z</published>
    <updated>2019-01-16T09:21:52.000Z</updated>
    
    <content type="html"><![CDATA[<p>macé»˜è®¤çš„pythonç‰ˆæœ¬æ˜¯2.7</p><h2 id="ä¸‹è½½å®‰è£…åŒ…"><a href="#ä¸‹è½½å®‰è£…åŒ…" class="headerlink" title="ä¸‹è½½å®‰è£…åŒ…"></a>ä¸‹è½½å®‰è£…åŒ…</h2><p>ä»å®˜ç½‘ä¸‹è½½<a href="https://www.python.org/ftp/python/3.7.2/python-3.7.2-macosx10.9.pkg" target="_blank" rel="noopener">3.7</a>ï¼ŒåŒå‡»å®‰è£…ã€‚<br>å®‰è£…å®Œä¹‹åpythonåœ¨/Library/Frameworks/Python.framework/Versions/3.7ç›®å½•ä¸‹.</p><a id="more"></a><h2 id="ä¿®æ”¹ç¯å¢ƒå˜é‡"><a href="#ä¿®æ”¹ç¯å¢ƒå˜é‡" class="headerlink" title="ä¿®æ”¹ç¯å¢ƒå˜é‡"></a>ä¿®æ”¹ç¯å¢ƒå˜é‡</h2><p><code>vim .bash_profile</code><br>å¢åŠ ä¸€ä¸‹ä»£ç </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PYTHON_HOME=/Library/Frameworks/Python.framework/Versions/3.7</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PYTHON_HOME</span>/bin:<span class="variable">$PATH</span></span><br><span class="line"><span class="built_in">alias</span> python=<span class="string">"/Library/Frameworks/Python.framework/Versions/3.7/bin/python3.7"</span></span><br><span class="line"><span class="built_in">alias</span> pip=<span class="string">"/Library/Frameworks/Python.framework/Versions/3.7/bin/pip3.7"</span></span><br></pre></td></tr></table></figure><p>é‡æ–°ç¼–è¯‘ä¸€ä¸‹<code>source .bash_profile</code></p><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><p>å‘½ä»¤è¡Œè¾“å…¥ï¼š<code>python -V</code>å’Œ<code>pip --version</code><br><img src="https://i.imgur.com/IIde4EP.jpg" alt="-w109"><br><img src="https://i.imgur.com/ZX1N8Jg.jpg" alt="-w561"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;macé»˜è®¤çš„pythonç‰ˆæœ¬æ˜¯2.7&lt;/p&gt;
&lt;h2 id=&quot;ä¸‹è½½å®‰è£…åŒ…&quot;&gt;&lt;a href=&quot;#ä¸‹è½½å®‰è£…åŒ…&quot; class=&quot;headerlink&quot; title=&quot;ä¸‹è½½å®‰è£…åŒ…&quot;&gt;&lt;/a&gt;ä¸‹è½½å®‰è£…åŒ…&lt;/h2&gt;&lt;p&gt;ä»å®˜ç½‘ä¸‹è½½&lt;a href=&quot;https://www.python.org/ftp/python/3.7.2/python-3.7.2-macosx10.9.pkg&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;3.7&lt;/a&gt;ï¼ŒåŒå‡»å®‰è£…ã€‚&lt;br&gt;å®‰è£…å®Œä¹‹åpythonåœ¨/Library/Frameworks/Python.framework/Versions/3.7ç›®å½•ä¸‹.&lt;/p&gt;
    
    </summary>
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>MWeb è‡ªåŠ¨å‘å¸ƒåˆ° Hexo</title>
    <link href="http://yoursite.com/2019/01/16/MWeb%20%E8%87%AA%E5%8A%A8%E5%8F%91%E5%B8%83%E5%88%B0%20Hexo/"/>
    <id>http://yoursite.com/2019/01/16/MWeb è‡ªåŠ¨å‘å¸ƒåˆ° Hexo/</id>
    <published>2019-01-16T07:08:25.000Z</published>
    <updated>2019-01-16T07:08:25.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>ä¹‹å‰ä¸€ç›´åœ¨å¯»æ‰¾ä¸€ä¸ªåˆé€‚çš„æ–¹å¼æ¥è®°å½•å·¥ä½œçš„æ—¥å¸¸ï¼Œä¾‹å¦‚é—®é¢˜è®°å½•ã€æ–¹æ¡ˆè®¡åˆ’ç­‰ç­‰ã€‚ä½†ä¸€ç›´æ²¡æœ‰æ‰¾åˆ°ä¸€ç›´é€‚åˆè‡ªå·±çš„å·¥ä½œæµç¨‹ã€‚ä¸»è¦è¿˜æ˜¯å¡åœ¨<code>è®°å½•</code>è¿™ä¸€æ­¥éª¤ã€‚</p><blockquote><p>è®°å½• -&gt; è®°ä»€ä¹ˆã€è®°åœ¨å“ªé‡Œã€æ€ä¹ˆè®°ã€‚</p></blockquote><p><strong><em>ä»¥ä¸‹å°†æœ‰å‡ ç™¾å­—çš„åºŸè¯ï¼Œèµ¶æ—¶é—´çš„å¯ä»¥ç›´æ¥ä¸‹ä¸€ç« èŠ‚</em></strong></p><a id="more"></a><p>æœ¬é¡¹ç›®å·²ç»ä¸Šä¼ åˆ°<a href="https://github.com/rinfon/mweb-hexo-alfred" target="_blank" rel="noopener">Github</a>ï¼Œéœ€è¦çš„è‡ªè¡Œä¸‹è½½</p><hr><p>ä¸ºäº†è§£å†³è®°å½•é—®é¢˜ï¼Œæˆ‘å°è¯•è¿‡<code>Eventnote</code>ã€<code>ä¾¿ç­¾</code>ã€<code>æ‰‹å†™ç¬”è®°æœ¬</code>ç­‰ç­‰ã€‚æœ€åå‘ç°éƒ½å› ä¸ºå„ç§å„æ ·çš„åŸå› è®©æˆ‘æ”¾å¼ƒäº†ã€‚</p><p><code>Eventnote</code>çš„ç¼–è¾‘å™¨ã€<code>ä¾¿ç­¾</code>çš„åŒæ­¥é—®é¢˜ã€<code>æ‰‹æœºç¬”è®°æœ¬</code>çš„æœç´¢é—®é¢˜éƒ½åœ¨é˜»ç¢ç€æˆ‘è®°å½•ï¼ŒçŸ¥é“æœ€è¿‘é‡åˆ°äº†<code>hexo</code>ï¼Œæ‰å‘ç°åŸæ¥è®°å½•æ˜¯å¦‚æ­¤çš„ç®€å•ç¾å¥½ã€‚</p><p>ä¸ªäººè®¤ä¸ºä¸€ä¸ªè‰¯å¥½çš„å·¥ä½œæµç¨‹åº”è¯¥å¦‚ä¸‹ï¼š</p><ol><li>æ¥æ”¶åˆ°éœ€æ±‚</li><li>è®¡åˆ’</li><li>å®æ–½</li><li>è®°å½•</li><li>å½’æ¡£</li></ol><p>è®¡åˆ’å’Œè®°å½•éƒ½å¯ä»¥é€‰æ‹©è‡ªå·±å–œæ¬¢çš„<code>MarkDown</code>å·¥å…·ï¼Œè€Œæˆ‘è‡ªç„¶é€‰æ‹©äº†<code>MWeb</code>ï¼ŒåŒ…å«äº†æ‰€æœ‰è¯¥æœ‰çš„åŠŸèƒ½ï¼ŒæŸ¥è¯¢ï¼Œæ–‡ä»¶åº“ç®¡ç†ä»¥åŠå›¾åºŠåŠŸèƒ½ã€‚</p><p><strong>MWebè¿›è¡Œæ—¥å¸¸çš„ç¼–å†™æŸ¥è¯¢å½’æ¡£ç­‰åŠŸèƒ½ï¼Œå†™å¥½äº†ä¹‹åç”¨<code>Alfred</code>æŠŠæŒ‡å®šçš„æ–‡ç« poståˆ°Hexo,å…¶å®ä¹Ÿå°±æ˜¯æ‰§è¡Œä¸ªè„šæœ¬ï¼ŒæŠŠé€‰ä¸­çš„MDå¤„ç†ä¸€ä¸‹ï¼Œå˜æˆHexoæ ¼å¼ï¼Œç„¶åå°±å¯ä»¥Postäº†ï¼ŒåŒæ—¶æ–‡ä»¶åº“ç”¨<code>åšæœäº‘</code>æ¥è¿›è¡ŒåŒæ­¥ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥é€‰æ‹©å…¶ä»–çš„åŒæ­¥è½¯ä»¶ï¼Œä¾‹å¦‚<code>iCould`</code>Google Drive`ç­‰ç­‰ã€‚</strong></p><p>å¯èƒ½æœ‰äººç–‘æƒ‘ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥æŠŠMWebçš„æ–‡ä»¶åº“æ”¹åˆ°Hexoçš„Posté‡Œé¢å»ï¼Œè¿™æ ·å°±å¯ä»¥ç›´æ¥ç¼–è¾‘Hexo newå‡ºæ¥çš„æ–‡ä»¶äº†å•Šã€‚</p><p>æ­£å¸¸æ–°å»ºçš„MWebæ–‡ä»¶å¦‚å›¾æ‰€ç¤ºï¼š<br><img src="https://i.imgur.com/YwH9NTG.jpg" alt="-w316"><br>åŒ…å«äº†æ ‡é¢˜ï¼Œè¿˜æœ‰å†…å®¹<br>ä½†ç›´æ¥æ‰“å¼€Hexoçš„MDï¼Œå°±ä¼šçœ‹ä¸åˆ°Titleï¼Œ<br>æ•ˆæœå¦‚å›¾æ‰€ç¤º:<br><img src="https://i.imgur.com/O9eajkp.jpg" alt="-w295"><br>è™½ç„¶æˆ‘ä¸æ˜¯å¤„å¥³åº§ï¼Œä½†ä¹Ÿå¿å—ä¸äº†æ•´ä¸ªæ–‡ä»¶åº“é‡Œé¢éƒ½æ˜¯è¿™ç§â€”çš„æ ‡é¢˜æ˜¾ç¤ºï¼Œå¦‚æœèƒ½æ¥å—çš„ï¼Œä½ å°±å¯ä»¥ç›´æ¥ç”¨è¿™ç§æ–¹å¼æ¥å¤„ç†äº†ã€‚</p><p>æ‰€ä»¥éœ€æ±‚æ€»ç»“èµ·æ¥æœ‰ä»¥ä¸‹å‡ ç‚¹ã€‚</p><ul><li style="list-style: none"><input type="checkbox"> <del>æ–°å»ºæ–‡ç« </del></li><li style="list-style: none"><input type="checkbox" checked> æŸ¥è¯¢æ–‡ç« </li><li style="list-style: none"><input type="checkbox" checked> å¢åŠ TagåŠŸèƒ½</li><li style="list-style: none"><input type="checkbox" checked> è‡ªåŠ¨å‘å¸ƒåˆ°æŸç¯‡æ–‡ç« åˆ°Hexo</li></ul><h2 id="æ–°å»ºæ–‡ç« "><a href="#æ–°å»ºæ–‡ç« " class="headerlink" title="æ–°å»ºæ–‡ç« "></a><del>æ–°å»ºæ–‡ç« </del></h2><p>æœ¬æ¥è®¡åˆ’é€šè¿‡Alfredè¿›è¡Œæ–°å»ºæ–‡ç« åŠŸèƒ½ï¼ŒæŸ¥è¯¢äº†ä¸€ä¸‹MWebæ•°æ®åº“<br><img src="https://i.imgur.com/oL2QTKD.jpg" alt="-w690"><br>ç”±äºä¸çŸ¥é“æ–‡ç« IDçš„ç”Ÿæˆè§„åˆ™ï¼ˆåªçŸ¥é“åº”è¯¥æ˜¯ç”¨æ—¶é—´æˆ³æ¥æ ‡è¯†æ–‡ç« IDçš„ï¼Œä½†ä½æ•°ä¸å¯¹ï¼Œå¤šäº†4ä½ï¼‰ï¼Œæ‰€ä»¥ä¸æ•¢è½»æ˜“çš„å¾€é‡Œé¢æ’å…¥æ•°æ®ã€‚<br>å¦‚æœä»¥åæœ‰è¿™æ ·çš„éœ€æ±‚ï¼Œå†å¢åŠ è¿™ä¸ªåŠŸèƒ½è¿›å»å§ã€‚</p><h2 id="æŸ¥è¯¢æ–‡ç« "><a href="#æŸ¥è¯¢æ–‡ç« " class="headerlink" title="æŸ¥è¯¢æ–‡ç« "></a>æŸ¥è¯¢æ–‡ç« </h2><p>å…·ä½“å®ç°å‚è€ƒäº†<a href="https://github.com/tianhao/alfred-mweb-workflow" target="_blank" rel="noopener">Github-MWeb-Alfred</a><br>ä¸»è¦ä¹Ÿæ˜¯é€šè¿‡æŸ¥è¯¢æ•°æ®åº“æ¥å®ç°çš„ã€‚å…·ä½“å¯çœ‹åŸä½œè€…çš„<a href="https://github.com/tianhao/alfred-mweb-workflow" target="_blank" rel="noopener">Github-MWeb-Alfred</a></p><h2 id="å¢åŠ TagåŠŸèƒ½"><a href="#å¢åŠ TagåŠŸèƒ½" class="headerlink" title="å¢åŠ TagåŠŸèƒ½"></a>å¢åŠ TagåŠŸèƒ½</h2><p>é€šè¿‡æŸ¥çœ‹MWebæ•°æ®åº“<br><img src="https://i.imgur.com/2zfhE20.jpg" alt="-w1016"><br>å¯ä»¥å¾—çŸ¥ï¼Œè¦å¾—åˆ°ä¸€ä¸ªæ–‡ç« çš„æ‰€æœ‰tagï¼Œåˆ™éœ€è¦è¿è¡¨æŸ¥è¯¢ï¼Œå…·ä½“çš„sqlite è¯­å¥å¦‚ä¸‹<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> b.name <span class="keyword">FROM</span> tag_article a,tag b <span class="keyword">WHERE</span> ( a.aid=<span class="string">'$&#123;fileid&#125;'</span> <span class="keyword">AND</span> a.rid = b.id);</span><br></pre></td></tr></table></figure></p><p>å®Œæ•´bashä»£ç :<code>searchtag.sh</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># DESCRIPTION: å°†æŸ¥è¯¢å‡ºæ¥çš„mdï¼Œè¿›è¡ŒäºŒæ¬¡æŸ¥è¯¢ï¼ŒæŠŠtagæ±‡æ€»ï¼Œè¾“å‡ºtag1,tag2,...</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¯å¢ƒå˜é‡å’Œç›®å½•æ£€æŸ¥</span></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">"<span class="variable">$&#123;MDOC_HOME&#125;</span>"</span> ];<span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"&#123; \"items\":["</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"&#123;"</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"\"type\": \"error\","</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"\"title\": \"è¯·è®¾ç½®ç¯å¢ƒå˜é‡MDOC_HOME\""</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"&#125;"</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"]&#125;"</span></span><br><span class="line">   <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">MDOC_HOME=$(<span class="built_in">eval</span> <span class="string">"echo <span class="variable">$&#123;MDOC_HOME&#125;</span>"</span>)</span><br><span class="line"><span class="keyword">if</span> [ ! -d <span class="string">"<span class="variable">$&#123;MDOC_HOME&#125;</span>/docs"</span> ];<span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"&#123; \"items\":["</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"&#123;"</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"\"type\": \"error\","</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"\"title\": \"\\\"<span class="variable">$&#123;MDOC_HOME&#125;</span>/docs\\\" ç›®å½•ä¸å­˜åœ¨\""</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"&#125;"</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"]&#125;"</span></span><br><span class="line">   <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="built_in">cd</span> <span class="string">"<span class="variable">$&#123;MDOC_HOME&#125;</span>/docs"</span> </span><br><span class="line"></span><br><span class="line">params=<span class="string">"<span class="variable">$&#123;1&#125;</span>"</span> <span class="comment"># mdæ–‡ç« id</span></span><br><span class="line">IFS=<span class="string">';'</span> <span class="built_in">read</span> -r -a array &lt;&lt;&lt; <span class="string">"<span class="variable">$&#123;1&#125;</span>"</span></span><br><span class="line">fileid=<span class="string">"<span class="variable">$&#123;array[0]&#125;</span>"</span></span><br><span class="line">fileid=<span class="string">"<span class="variable">$&#123;fileid/.md/&#125;</span>"</span></span><br><span class="line">title=<span class="string">"<span class="variable">$&#123;array[1]&#125;</span>"</span></span><br><span class="line">taglist=<span class="string">""</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡ºæ–‡æ¡£åˆ—è¡¨çš„å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="title">output_result</span></span>()&#123;</span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">"<span class="variable">$&#123;files&#125;</span>"</span> = <span class="string">""</span> ];<span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;MDOC_HOME&#125;</span>/docs/<span class="variable">$&#123;fileid&#125;</span>.md;<span class="variable">$&#123;title&#125;</span>;"</span> </span><br><span class="line">        <span class="built_in">exit</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable">$&#123;files&#125;</span></span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">         <span class="keyword">if</span> [ <span class="string">"<span class="variable">$&#123;taglist&#125;</span>"</span> = <span class="string">""</span> ];<span class="keyword">then</span></span><br><span class="line">            taglist=<span class="string">"<span class="variable">$&#123;i&#125;</span>"</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            taglist=<span class="string">"<span class="variable">$&#123;taglist&#125;</span>"</span>,<span class="string">"<span class="variable">$&#123;i&#125;</span>"</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;MDOC_HOME&#125;</span>/docs/<span class="variable">$&#123;fileid&#125;</span>.md;<span class="variable">$&#123;title&#125;</span>;<span class="variable">$&#123;taglist&#125;</span>"</span> </span><br><span class="line">    <span class="built_in">exit</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sql=<span class="string">"SELECT b.name FROM tag_article a,tag b WHERE ( a.aid='<span class="variable">$&#123;fileid&#125;</span>' AND a.rid = b.id);"</span></span><br><span class="line">final_expr=<span class="string">"sqlite3 \"<span class="variable">$&#123;MDOC_HOME&#125;</span>/mainlib.db\" \"<span class="variable">$&#123;sql&#125;</span>\""</span></span><br><span class="line">final_expr=<span class="string">"<span class="variable">$&#123;final_expr&#125;</span>"</span></span><br><span class="line"><span class="comment"># echo "$final_expr"</span></span><br><span class="line">files=`<span class="built_in">eval</span> <span class="string">"<span class="variable">$&#123;final_expr&#125;</span>"</span>`</span><br><span class="line">output_result</span><br></pre></td></tr></table></figure><h2 id="è‡ªåŠ¨å‘å¸ƒæŸç¯‡æ–‡ç« åˆ°Hexo"><a href="#è‡ªåŠ¨å‘å¸ƒæŸç¯‡æ–‡ç« åˆ°Hexo" class="headerlink" title="è‡ªåŠ¨å‘å¸ƒæŸç¯‡æ–‡ç« åˆ°Hexo"></a>è‡ªåŠ¨å‘å¸ƒæŸç¯‡æ–‡ç« åˆ°Hexo</h2><p>æœç´¢æ–‡ç« -&gt;æŸ¥è¯¢æ–‡ç« æ‰€æœ‰çš„tag-&gt;å¢åŠ Hexoèƒ½è¯†åˆ«çš„å†…å®¹-&gt;å‘å¸ƒ<br>æˆ‘åœ¨<a href="https://github.com/tianhao/alfred-mweb-workflow" target="_blank" rel="noopener">åŸä½œè€…</a>çš„æŸ¥è¯¢é‡Œé¢ä¿®æ”¹äº†ä¸€ä¸‹ï¼Œå› ä¸ºæŸ¥è¯¢å‡ºæ¥çš„ç»“æœæ˜¯<code>/Users/rinfon/Desktop/work/workstyle/blogfile/docs/15471063755188.md</code>è¿™ç§è·¯å¾„çš„ï¼Œè€Œæˆ‘éœ€è¦ä¸€ä¸ªæ–‡ç« çš„idå’Œæ–‡ç« çš„titleå³å¯<code>15471063755188;title</code>ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># <span class="doctag">NOTE:</span> æœ¬è„šæœ¬è¦æ±‚æ‰€æœ‰å‚æ•°ç”¨'æˆ–"åˆæˆä¸€ä¸ªå‚æ•°ï¼Œå¦‚ -t TODO è¦è¾“å…¥ä¸º '-t TODO' æˆ– "-t TODO"</span></span><br><span class="line"><span class="comment"># alfred ä¼šå°†æ‰€æœ‰è¾“å…¥ä½œä¸ºä¸€ä¸ªå‚æ•°ï¼ŒåŒ…æ‹¬æœ«å°¾çš„ç©ºæ ¼</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¯å¢ƒå˜é‡å’Œç›®å½•æ£€æŸ¥</span></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">"<span class="variable">$&#123;MDOC_HOME&#125;</span>"</span> ];<span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"&#123; \"items\":["</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"&#123;"</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"\"type\": \"error\","</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"\"title\": \"è¯·è®¾ç½®ç¯å¢ƒå˜é‡MDOC_HOME\""</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"&#125;"</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"]&#125;"</span></span><br><span class="line">   <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">MDOC_HOME=$(<span class="built_in">eval</span> <span class="string">"echo <span class="variable">$&#123;MDOC_HOME&#125;</span>"</span>)</span><br><span class="line"><span class="keyword">if</span> [ ! -d <span class="string">"<span class="variable">$&#123;MDOC_HOME&#125;</span>/docs"</span> ];<span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"&#123; \"items\":["</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"&#123;"</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"\"type\": \"error\","</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"\"title\": \"\\\"<span class="variable">$&#123;MDOC_HOME&#125;</span>/docs\\\" ç›®å½•ä¸å­˜åœ¨\""</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"&#125;"</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"]&#125;"</span></span><br><span class="line">   <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="built_in">cd</span> <span class="string">"<span class="variable">$&#123;MDOC_HOME&#125;</span>/docs"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">declare</span> -a tag_arr <span class="comment"># æ ‡ç­¾æ•°ç»„</span></span><br><span class="line"><span class="built_in">declare</span> -a header_arr <span class="comment"># æ ‡é¢˜æ•°ç»„</span></span><br><span class="line"><span class="built_in">declare</span> -a category_arr <span class="comment"># åˆ†ç±»æ•°ç»„</span></span><br><span class="line"><span class="built_in">declare</span> -a keyword_arr <span class="comment"># å…³é”®å­—æ•°ç»„</span></span><br><span class="line">next_input=0 <span class="comment"># ä¸‹ä¸€æ­¥è¾“å…¥å‚æ•°å½’ç±»ï¼Œ0:keyword, 1: tag, 2: header, 3: category</span></span><br><span class="line">last_input=0 <span class="comment"># æœ€åä¸€æ¬¡è¾“å…¥çš„å‚æ•°å½’ç±»ï¼›ä¸next_input ç›¸åŒ</span></span><br><span class="line">end_option=1 <span class="comment">#ã€€æ˜¯å¦ç»ˆæ­¢äº†é™¤ keyword ä»¥å¤–ç±»å‹çš„å‚æ•°è¾“å…¥: å•æœ€åä¸€ä¸ªå­—ç¬¦ä¸ºç©ºæ ¼è¡¨ç¤ºè¾“å‡ºå®Œæˆäº†</span></span><br><span class="line">end_char=<span class="string">""</span> <span class="comment"># æœ€åä¸€ä¸ªå‚æ•°æœ€åè¾“å…¥çš„å­—ç¬¦</span></span><br><span class="line"><span class="comment"># æ”¶é›†å‚æ•°çš„å‡½æ•°ï¼š</span></span><br><span class="line"><span class="comment"># 1.æ”¶é›†tag,header,keywordå‚æ•°ï¼Œåˆ†åˆ«æ”¾åˆ° tag_arr,header_arr,keyword_arrä¸­</span></span><br><span class="line"><span class="comment"># 2.åˆ¤æ–­ç”¨æˆ·ä¸€ä¸‹ä¸ªè¦è¾“å…¥çš„å‚æ•°(next_input)</span></span><br><span class="line"><span class="function"><span class="title">get_params</span></span>()&#123;</span><br><span class="line">    <span class="keyword">while</span> [ <span class="variable">$#</span> -gt 0 ]; <span class="keyword">do</span></span><br><span class="line">        <span class="keyword">case</span> <span class="string">"<span class="variable">$1</span>"</span> <span class="keyword">in</span></span><br><span class="line">            -t)</span><br><span class="line"><span class="comment">#                echo "$1"</span></span><br><span class="line">                next_input=1</span><br><span class="line">                last_input=<span class="variable">$&#123;next_input&#125;</span></span><br><span class="line">                <span class="built_in">shift</span>;;</span><br><span class="line">            -h)</span><br><span class="line"><span class="comment">#                echo "$1"</span></span><br><span class="line">                next_input=2</span><br><span class="line">                last_input=<span class="variable">$&#123;next_input&#125;</span></span><br><span class="line">                <span class="built_in">shift</span>;;</span><br><span class="line"><span class="comment">#            -c|--category)</span></span><br><span class="line"><span class="comment">#                echo "$1"</span></span><br><span class="line"><span class="comment">#                next_input=3</span></span><br><span class="line"><span class="comment">#                last_input=$&#123;next_input&#125;</span></span><br><span class="line"><span class="comment">#                shift;;</span></span><br><span class="line">            *)</span><br><span class="line"><span class="comment">#                echo "$1"</span></span><br><span class="line">                str=<span class="variable">$&#123;1//ï¼Œ/,&#125;</span> <span class="comment"># ä¸­æ–‡é€—å·æ”¹æˆè‹±æ–‡é€—å·</span></span><br><span class="line">                n=<span class="variable">$&#123;#str&#125;</span></span><br><span class="line">                end_char=<span class="variable">$&#123;str:$((n-1))&#125;</span> <span class="comment"># è®°å½•æœ€åä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line">                <span class="comment"># æŒ‰ç…§ next_input æŒ‡ç¤ºï¼Œå°†å‚æ•°æ”¾åˆ°å¯¹åº”çš„æ•°ç»„ä¸­ã€‚</span></span><br><span class="line">                <span class="keyword">case</span> <span class="string">"<span class="variable">$&#123;next_input&#125;</span>"</span> <span class="keyword">in</span></span><br><span class="line">                    1) IFS=<span class="string">","</span>; <span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable">$&#123;str&#125;</span>;<span class="keyword">do</span> tag_arr+=(<span class="string">"<span class="variable">$i</span>"</span>); <span class="keyword">done</span>;<span class="built_in">unset</span> IFS ;;</span><br><span class="line">                    2) IFS=<span class="string">","</span>; <span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable">$&#123;str&#125;</span>;<span class="keyword">do</span> header_arr+=(<span class="string">"<span class="variable">$i</span>"</span>); <span class="keyword">done</span>;<span class="built_in">unset</span> IFS ;;</span><br><span class="line">                    3) IFS=<span class="string">","</span>; <span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable">$&#123;str&#125;</span>;<span class="keyword">do</span> category_arr+=(<span class="string">"<span class="variable">$i</span>"</span>); <span class="keyword">done</span>;<span class="built_in">unset</span> IFS ;;</span><br><span class="line">                    *) keyword_arr+=(<span class="string">"<span class="variable">$str</span>"</span>) ;;</span><br><span class="line">                <span class="keyword">esac</span></span><br><span class="line">                last_input=<span class="variable">$&#123;next_input&#125;</span> <span class="comment"># ä¿å­˜æœ€åä¸€æ¬¡è¾“å…¥çš„å‚æ•°ç±»å‹</span></span><br><span class="line">                next_input=0;</span><br><span class="line">                <span class="built_in">shift</span>;;</span><br><span class="line">        <span class="keyword">esac</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">get_params $* <span class="comment"># è°ƒç”¨æ”¶é›†å‚æ•°çš„å‡½æ•°</span></span><br><span class="line"><span class="comment">#echo tag_arr=$&#123;tag_arr[@]&#125;</span></span><br><span class="line"><span class="comment">#echo header_arr=$&#123;header_arr[@]&#125;</span></span><br><span class="line"><span class="comment">#echo category_arr=$&#123;category_arr[@]&#125;</span></span><br><span class="line"><span class="comment">#echo keyword_arr=$&#123;keyword_arr[@]&#125;</span></span><br><span class="line"><span class="comment">#echo next_input=$&#123;next_input&#125;</span></span><br><span class="line"><span class="comment">#echo last_input=$&#123;last_input&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡ºtagåˆ—è¡¨çš„å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="title">output_tags</span></span>()&#123;</span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">"<span class="variable">$&#123;filtered_tags&#125;</span>"</span> = <span class="string">""</span> ];<span class="keyword">then</span></span><br><span class="line">       <span class="built_in">echo</span> <span class="string">"&#123;\"items\":["</span></span><br><span class="line">       <span class="built_in">echo</span> <span class="string">"&#123;"</span></span><br><span class="line">       <span class="built_in">echo</span> <span class="string">"\"title\": \"æ²¡æœ‰ç›¸å…³tag\","</span></span><br><span class="line">       <span class="built_in">echo</span> <span class="string">"&#125;"</span></span><br><span class="line">       <span class="built_in">echo</span> <span class="string">"]&#125;"</span></span><br><span class="line">       <span class="built_in">exit</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="built_in">local</span> separator=<span class="string">""</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"&#123;\"items\":["</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable">$&#123;filtered_tags&#125;</span></span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">      <span class="built_in">printf</span> <span class="string">'%s'</span> <span class="variable">$&#123;separator&#125;</span></span><br><span class="line">      separator=<span class="string">","</span></span><br><span class="line">      <span class="built_in">echo</span> <span class="string">"&#123;"</span></span><br><span class="line">      <span class="built_in">echo</span> <span class="string">"\"title\": \"tag: <span class="variable">$&#123;i&#125;</span>\","</span></span><br><span class="line">      <span class="built_in">echo</span> <span class="string">"\"autocomplete\": \"<span class="variable">$&#123;1&#125;</span><span class="variable">$&#123;i&#125;</span>,\","</span></span><br><span class="line">      <span class="built_in">echo</span> <span class="string">"\"valid\":\"no\""</span></span><br><span class="line">      <span class="built_in">echo</span> <span class="string">"&#125;"</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"]&#125;"</span></span><br><span class="line">    <span class="built_in">exit</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡ºæ–‡æ¡£åˆ—è¡¨çš„å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="title">output_files</span></span>()&#123;</span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">"<span class="variable">$&#123;files&#125;</span>"</span> = <span class="string">""</span> ];<span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"&#123;\"items\":["</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"&#123;"</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"\"title\": \"æ²¡æœ‰æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£\","</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"&#125;"</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"]&#125;"</span></span><br><span class="line">        <span class="built_in">exit</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="built_in">local</span> separator=<span class="string">""</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"&#123;\"items\":["</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable">$&#123;files&#125;</span></span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">        <span class="built_in">printf</span> <span class="string">'%s'</span> <span class="variable">$&#123;separator&#125;</span></span><br><span class="line">        separator=<span class="string">","</span></span><br><span class="line">        h=<span class="string">"<span class="variable">$(head -1 "$&#123;i&#125;"| sed 's/\\/\\\\/g;s/"/\\"/g;s/[[:space:]]*$//g')</span>"</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"&#123;"</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"\"type\": \"file\","</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"\"title\": \"<span class="variable">$&#123;h&#125;</span>\","</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"\"arg\": \"<span class="variable">$i</span>;<span class="variable">$h</span>\""</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"&#125;"</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"]&#125;"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æœ€åä¸€ä¸ªå­—ç¬¦ä¸æ˜¯ç©ºæ ¼ï¼Œä¸”æœ€åä¸€æ¬¡è¾“å…¥å½’ç±»ä¸æ˜¯0ï¼Œè¿™è¡¨ç¤ºè¯¥ç±»å‹å‚æ•°æ²¡æœ‰è¾“å…¥å®Œæˆ --&gt; å¯ä»¥è¾“å‡ºè¯¥ç±»å‹é€‰é¡¹</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">"$*"</span> = <span class="string">"<span class="variable">$&#123;*% &#125;</span>"</span> -a <span class="variable">$&#123;last_input&#125;</span> -gt 0 ];<span class="keyword">then</span></span><br><span class="line">    end_option=0</span><br><span class="line"><span class="comment"># ä¸‹ä¸€ä¸ªå‚æ•°ç±»å‹=æœ€åä¸€æ¬¡è¾“å…¥ç±»å‹ï¼Œä¸”ç±»å‹ä¸æ˜¯0ï¼Œè¡¨ç¤ºè¯¥ç±»å‹å‚æ•°æ²¡æœ‰è¾“å…¥å®Œæˆ --&gt; å¯ä»¥è¾“å‡ºè¯¥ç±»å‹é€‰é¡¹</span></span><br><span class="line"><span class="keyword">elif</span> [ <span class="variable">$&#123;next_input&#125;</span> -gt 0 -a <span class="variable">$&#123;last_input&#125;</span> = <span class="variable">$&#123;next_input&#125;</span> ];<span class="keyword">then</span></span><br><span class="line">    end_option=0</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    end_option=1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment">#echo "end_option=$&#123;end_option&#125;"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## å¦‚æœå½“å‰è¾“å…¥ä¸º tagï¼Œä¸”æ²¡æœ‰ç»“æŸè¾“å…¥ï¼Œè¾“å‡ºtagåˆ—è¡¨: æ’é™¤å·²ç»è¾“å…¥çš„tagï¼Œä»¥å½“å‰è¾“å…¥ä¸ºå‰ç¼€çš„tag</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$&#123;last_input&#125;</span> -eq 1 -a <span class="variable">$&#123;end_option&#125;</span> -eq 0 ]; <span class="keyword">then</span></span><br><span class="line">    autocomplete=<span class="string">''</span></span><br><span class="line">    n=<span class="variable">$&#123;#tag_arr[@]&#125;</span></span><br><span class="line">    <span class="keyword">if</span> [ <span class="variable">$&#123;n&#125;</span> -eq 0 ];<span class="keyword">then</span> <span class="comment"># è¿˜æ²¡æœ‰è¾“å…¥ä»»ä½•å€¼</span></span><br><span class="line">        autocomplete=<span class="string">"<span class="variable">$1</span> "</span></span><br><span class="line">        sql=<span class="string">"select name from tag"</span>;</span><br><span class="line">    <span class="keyword">elif</span> [ <span class="string">"<span class="variable">$&#123;end_char&#125;</span>"</span> = <span class="string">","</span> ];<span class="keyword">then</span> <span class="comment"># å·²è¾“å…¥è‹¥å¹²ä¸ªå€¼ï¼Œä¸”æœ€åä¸€ä¸ªå€¼å·²ç¡®å®š</span></span><br><span class="line">        autocomplete=<span class="string">"<span class="variable">$1</span>"</span></span><br><span class="line">        sql=<span class="string">"select name from tag where 1=1"</span>;</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable">$&#123;tag_arr[@]&#125;</span></span><br><span class="line">        <span class="keyword">do</span></span><br><span class="line">            sql=<span class="string">"<span class="variable">$&#123;sql&#125;</span> and name not like '<span class="variable">$&#123;i&#125;</span>'"</span></span><br><span class="line">        <span class="keyword">done</span></span><br><span class="line">    <span class="keyword">else</span>       <span class="comment"># å·²è¾“å…¥è‹¥å¹²ä¸ªå€¼ï¼Œä¸”æœ€åä¸€ä¸ªå€¼è¿˜æ²¡æœ‰è¾“å…¥å®Œæˆ</span></span><br><span class="line">        n=$((n-1))</span><br><span class="line">        autocomplete=<span class="string">"<span class="variable">$&#123;1%$&#123;tag_arr[$&#123;n&#125;</span>]&#125;&#125;"</span></span><br><span class="line">        sql=<span class="string">"select name from tag where name like '<span class="variable">$&#123;tag_arr[@]:$n&#125;</span>%'"</span>;</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable">$&#123;tag_arr[@]:0:$&#123;n&#125;</span>&#125;</span><br><span class="line">        <span class="keyword">do</span></span><br><span class="line">            sql=<span class="string">"<span class="variable">$&#123;sql&#125;</span> and name not like '<span class="variable">$&#123;i&#125;</span>'"</span></span><br><span class="line">        <span class="keyword">done</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="comment">#    echo $&#123;sql&#125;</span></span><br><span class="line">    final_expr=<span class="string">"sqlite3 \"<span class="variable">$&#123;MDOC_HOME&#125;</span>/mainlib.db\" \"<span class="variable">$&#123;sql&#125;</span>\""</span></span><br><span class="line">    filtered_tags=`<span class="built_in">eval</span> <span class="string">"<span class="variable">$&#123;final_expr&#125;</span>"</span>`</span><br><span class="line">    output_tags <span class="string">"<span class="variable">$&#123;autocomplete&#125;</span>"</span></span><br><span class="line">    <span class="built_in">exit</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## å¦‚æœæœ‰è¾“å…¥-tå‚æ•°ï¼Œè¿‡æ»¤æ–‡æ¡£tag</span></span><br><span class="line"><span class="comment">## æŸ¥è¯¢æ–‡æ¡£SQL:</span></span><br><span class="line"><span class="comment">##SELECT a.aid FROM tag_article a,article b</span></span><br><span class="line"><span class="comment">##WHERE a.aid = b.uuid AND</span></span><br><span class="line"><span class="comment">##  a.rid IN (SELECT id from tag b WHERE b.name LIKE 'TODO' or b.name LIKE 'DONE' )</span></span><br><span class="line"><span class="comment">##GROUP BY a.aid HAVING count(1) &gt;=2</span></span><br><span class="line"><span class="comment">##ORDER BY b.dateModif DESC;</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$&#123;#tag_arr[@]&#125;</span> -gt 0 ];<span class="keyword">then</span></span><br><span class="line">    sql=<span class="string">'select id from tag where '</span></span><br><span class="line">    or_str=<span class="string">""</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable">$&#123;tag_arr[@]&#125;</span></span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">        sql=<span class="string">"<span class="variable">$&#123;sql&#125;</span> <span class="variable">$&#123;or_str&#125;</span> name like '<span class="variable">$&#123;i&#125;</span>'"</span></span><br><span class="line">        or_str=or</span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">    sql=<span class="string">"SELECT a.aid||'.md' FROM tag_article a,article b \</span></span><br><span class="line"><span class="string">    WHERE a.aid=b.uuid AND a.rid IN (<span class="variable">$&#123;sql&#125;</span>) \</span></span><br><span class="line"><span class="string">    GROUP BY a.aid HAVING count(1)&gt;=<span class="variable">$&#123;#tag_arr[@]&#125;</span> \</span></span><br><span class="line"><span class="string">    ORDER BY b.dateModif desc"</span>;</span><br><span class="line"><span class="comment">#    echo $&#123;sql&#125;</span></span><br><span class="line">    final_expr=<span class="string">"sqlite3 \"<span class="variable">$&#123;MDOC_HOME&#125;</span>/mainlib.db\" \"<span class="variable">$&#123;sql&#125;</span>\""</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    final_expr=<span class="string">"ls -t *.md"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœæœ‰è¾“å…¥-hå‚æ•°ï¼Œè¿‡æ»¤æ–‡æ¡£æ ‡é¢˜</span></span><br><span class="line"><span class="comment"># æ€è·¯: grep -n ä¼šè¾“å‡ºè¡Œå·ï¼Œæ‰¾åˆ°ç¬¦åˆæ‰€æœ‰å…³é”®å­—çš„è¡Œï¼Œç­›é€‰è¡Œå·=1çš„æ–‡æ¡£å°±å¯ä»¥äº†</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$&#123;#header_arr[@]&#125;</span> -gt 0 ];<span class="keyword">then</span></span><br><span class="line">    final_expr=<span class="string">"<span class="variable">$&#123;final_expr&#125;</span> | xargs grep -inHe '<span class="variable">$&#123;header_arr[0]&#125;</span>'"</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable">$&#123;header_arr[@]:1&#125;</span></span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">        final_expr=<span class="string">"<span class="variable">$&#123;final_expr&#125;</span> | grep -ie '<span class="variable">$&#123;i&#125;</span>'"</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">    final_expr=<span class="string">"<span class="variable">$&#123;final_expr&#125;</span> | egrep '^.+\.md\:1\:' | awk -F':' '&#123;print \$1&#125;'"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœæœ‰è¾“å…¥å…³é”®å­—ï¼Œåˆ™ç”¨å…³é”®å­—ç­›é€‰æ–‡æ¡£ï¼Œå¹¶ä¸”æŒ‰ç…§æ–‡æ¡£æ ‡é¢˜åŒ¹é…åº¦æ’åº</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$&#123;#keyword_arr[@]&#125;</span> -gt 0 ];<span class="keyword">then</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable">$&#123;keyword_arr[@]&#125;</span></span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">        final_expr=<span class="string">"<span class="variable">$&#123;final_expr&#125;</span>| xargs grep -ile '<span class="variable">$&#123;i&#125;</span>' | awk -F':' '&#123;print \$1&#125;' | uniq "</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ’åºè¡¨è¾¾å¼: ç»Ÿè®¡ç¬¬ä¸€è¡ŒåŒ¹é…å…³é”®å­—ä¸ªæ•°ï¼Œå°†åŒ¹é…ä¸ªæ•°å¤§çš„æ”¾åœ¨å‰é¢</span></span><br><span class="line">    <span class="comment"># ç¬¬ä¸€æ­¥: è¾“å…¥"æ–‡ä»¶å",è¾“å‡º"æ–‡ä»¶å åŒ¹é…ä¸ªæ•°"</span></span><br><span class="line">    <span class="comment"># ç¬¬äºŒæ­¥: æŒ‰ç…§ "åŒ¹é…ä¸ªæ•°" å€’åºæ’åº</span></span><br><span class="line">    <span class="comment"># ç¬¬ä¸‰æ­¥: å»æ‰ "åŒ¹é…ä¸ªæ•°" å­—æ®µï¼Œåªä¿ç•™"æ–‡ä»¶å"</span></span><br><span class="line">    <span class="comment"># ç”±äºls -lt æ˜¯æŒ‰ç…§ç¼–è¾‘æ—¶é—´å€’åºæ’åºçš„ï¼Œæ‰€ä»¥æœ€ç»ˆæ’åºç­‰çº§ï¼šæ ‡é¢˜åŒ¹é…ä¸ªæ•°å€’åº-&gt;æœ€åç¼–è¾‘å€’åº</span></span><br><span class="line">    egrep_expr=<span class="string">"<span class="variable">$(echo "$&#123;keyword_arr[@]&#125;" | sed "s/[[:blank:]]/|/g")</span>"</span></span><br><span class="line">    sort_expr=<span class="string">"awk '&#123;system(\"egrep -ioe \\\"<span class="variable">$&#123;egrep_expr&#125;</span>\\\" &lt;&lt;&lt; \`head -1 \"\$1 \"\`|wc -l | xargs echo \"\$1)&#125;' | sort -rk 2 | awk '&#123;print \$1&#125;'"</span></span><br><span class="line">    final_expr=<span class="string">"<span class="variable">$&#123;final_expr&#125;</span> | <span class="variable">$&#123;sort_expr&#125;</span> "</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">final_expr=<span class="string">"<span class="variable">$&#123;final_expr&#125;</span> | head -20 "</span> <span class="comment"># é™åˆ¶æœ€å¤šè¾“å‡º20æ¡è®°å½•</span></span><br><span class="line"><span class="comment"># echo "$final_expr"</span></span><br><span class="line">files=`<span class="built_in">eval</span> <span class="string">"<span class="variable">$&#123;final_expr&#125;</span>"</span>`</span><br><span class="line">output_files</span><br></pre></td></tr></table></figure><p>ä¸ºäº†è®©Hexoè¯†åˆ«ï¼Œå¢åŠ äº†ä¸€ä¸‹è„šæœ¬<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [ ! -n <span class="string">"<span class="variable">$&#123;HEXO_POST&#125;</span>"</span> ] ;<span class="keyword">then</span></span><br><span class="line">   <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">IFS=<span class="string">';'</span> <span class="built_in">read</span> -r -a array &lt;&lt;&lt; <span class="string">"&#123;query&#125;"</span></span><br><span class="line"></span><br><span class="line">path=<span class="variable">$&#123;array[0]&#125;</span></span><br><span class="line">title=<span class="variable">$&#123;array[1]&#125;</span></span><br><span class="line">title=<span class="string">"<span class="variable">$&#123;title/\# /&#125;</span>"</span></span><br><span class="line">taglist=<span class="variable">$&#123;array[2]&#125;</span></span><br><span class="line"></span><br><span class="line">cp <span class="string">"<span class="variable">$path</span>"</span> <span class="string">"<span class="variable">$&#123;HEXO_POST&#125;</span>/<span class="variable">$&#123;title&#125;</span>.md"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> <span class="string">"<span class="variable">$&#123;HEXO_POST&#125;</span>"</span></span><br><span class="line"><span class="comment">#åˆ é™¤title</span></span><br><span class="line">sed -i <span class="string">''</span> 1d ./<span class="string">"<span class="variable">$&#123;title&#125;</span>.md"</span></span><br><span class="line">sed -i <span class="string">''</span> <span class="string">'1i\'</span>$<span class="string">'\n---\n'</span> ./<span class="string">"<span class="variable">$&#123;title&#125;</span>.md"</span></span><br><span class="line">sed -i <span class="string">''</span> <span class="string">"1 a\ </span></span><br><span class="line"><span class="string">title: <span class="variable">$title</span></span></span><br><span class="line"><span class="string">"</span> ./<span class="string">"<span class="variable">$&#123;title&#125;</span>.md"</span></span><br><span class="line"></span><br><span class="line">sed -i <span class="string">''</span> <span class="string">"2 a\ </span></span><br><span class="line"><span class="string">tag: [<span class="variable">$&#123;taglist&#125;</span>]</span></span><br><span class="line"><span class="string">"</span> ./<span class="string">"<span class="variable">$&#123;title&#125;</span>.md"</span></span><br><span class="line">sed -i <span class="string">''</span> <span class="string">'3 a\'</span>$<span class="string">'\n---\n'</span> ./<span class="string">"<span class="variable">$&#123;title&#125;</span>.md"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">linecount=$(cat ./<span class="string">"<span class="variable">$&#123;title&#125;</span>.md"</span> | wc -l )</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$linecount</span> -gt 11 ];<span class="keyword">then</span></span><br><span class="line">sed -i <span class="string">''</span> <span class="string">"12 a\ </span></span><br><span class="line"><span class="string">&lt;!--more--&gt;</span></span><br><span class="line"><span class="string">"</span> ./<span class="string">"<span class="variable">$&#123;title&#125;</span>.md"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">PATH=<span class="variable">$&#123;HEXO_CMD_PATH&#125;</span></span><br><span class="line">PATH=<span class="variable">$&#123;PATH&#125;</span>:<span class="variable">$&#123;GIT_PATH&#125;</span></span><br><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure></p><h2 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h2><ul><li>alfred æ‰§è¡Œgitã€hexoå‘½ä»¤æ‰¾ä¸åˆ°é—®é¢˜<br>éœ€è¦æŠŠgitçš„å‘½ä»¤è·¯å¾„å’Œhexoè·¯å¾„å¡«å†™åœ¨alfredçš„ç¯å¢ƒå˜é‡é‡Œé¢ã€‚ä¸ç„¶æ‰§è¡Œä¼šgitå’Œhexoçš„æ“ä½œä¼šå¤±è´¥ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;éœ€æ±‚&quot;&gt;&lt;a href=&quot;#éœ€æ±‚&quot; class=&quot;headerlink&quot; title=&quot;éœ€æ±‚&quot;&gt;&lt;/a&gt;éœ€æ±‚&lt;/h2&gt;&lt;p&gt;ä¹‹å‰ä¸€ç›´åœ¨å¯»æ‰¾ä¸€ä¸ªåˆé€‚çš„æ–¹å¼æ¥è®°å½•å·¥ä½œçš„æ—¥å¸¸ï¼Œä¾‹å¦‚é—®é¢˜è®°å½•ã€æ–¹æ¡ˆè®¡åˆ’ç­‰ç­‰ã€‚ä½†ä¸€ç›´æ²¡æœ‰æ‰¾åˆ°ä¸€ç›´é€‚åˆè‡ªå·±çš„å·¥ä½œæµç¨‹ã€‚ä¸»è¦è¿˜æ˜¯å¡åœ¨&lt;code&gt;è®°å½•&lt;/code&gt;è¿™ä¸€æ­¥éª¤ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è®°å½• -&amp;gt; è®°ä»€ä¹ˆã€è®°åœ¨å“ªé‡Œã€æ€ä¹ˆè®°ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;ä»¥ä¸‹å°†æœ‰å‡ ç™¾å­—çš„åºŸè¯ï¼Œèµ¶æ—¶é—´çš„å¯ä»¥ç›´æ¥ä¸‹ä¸€ç« èŠ‚&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="git" scheme="http://yoursite.com/tags/git/"/>
    
      <category term="MWeb" scheme="http://yoursite.com/tags/MWeb/"/>
    
      <category term="Hexo" scheme="http://yoursite.com/tags/Hexo/"/>
    
      <category term="Alfred" scheme="http://yoursite.com/tags/Alfred/"/>
    
  </entry>
  
  <entry>
    <title>Android é¡¹ç›®æ¶æ„ä¹‹ MVP</title>
    <link href="http://yoursite.com/2019/01/15/Android%20%E9%A1%B9%E7%9B%AE%E6%9E%B6%E6%9E%84%E4%B9%8B%20MVP/"/>
    <id>http://yoursite.com/2019/01/15/Android é¡¹ç›®æ¶æ„ä¹‹ MVP/</id>
    <published>2019-01-15T13:09:25.000Z</published>
    <updated>2019-01-15T13:09:25.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>æœ¬æ–‡ä¸æ˜¯å­¦æœ¯æ–‡å­—è®¨è®ºï¼ˆå¤åˆ¶ç²˜è´´ï¼‰æ–‡ï¼Œæ‰€ä»¥ä¸ä¼šè¯¦ç»†è§£é‡Šä»€ä¹ˆå« MVPï¼ŒMVCï¼ŒDaggerï¼ŒClean ç­‰ç­‰ã€‚ä¸»è¦ä»¥å®é™…é¡¹ç›®ä¸ºåŸºç¡€ï¼Œç®€å•çš„å®ç°ç™»å½•åŠŸèƒ½ã€‚</p><p>å½“ä»£ç é‡è¶Šæ¥è¶Šå¤§ï¼Œéœ€è¦å¯¹å·²æœ‰çš„ä»£ç è¿›è¡Œæ•´ç†ä»¥åŠé‡æ„ï¼Œå®ç°è§£è€¦.</p><p><strong>æ— è®ºä»»ä½•çš„æ¶æ„æ¨¡å¼ä»¥åŠè®¾è®¡æ¨¡å¼éƒ½æ˜¯ä¸ºäº†ä»£ç è§£è€¦</strong></p><h2 id="ç ”ç©¶æ–¹å‘"><a href="#ç ”ç©¶æ–¹å‘" class="headerlink" title="ç ”ç©¶æ–¹å‘"></a>ç ”ç©¶æ–¹å‘</h2><p>MVP æ¨¡å¼ï¼š<br><a id="more"></a></p><ul><li>Model:<br>æ•°æ®å±‚ï¼Œä¸»è¦è´Ÿè´£ç½‘ç»œæ•°æ®è¯·æ±‚ä¸è·å–ï¼Œæ•°æ®åº“çš„å¤„ç†ç­‰ç­‰æ•°æ®ç›¸å…³çš„é€»è¾‘å¤„ç†</li><li>View:<br>è§†å›¾å±‚ï¼Œæ˜¾ç¤ºæ•°æ®ï¼Œä¾‹å¦‚ Activity,Fragment,View ç­‰ç­‰ UI è½½ä½“</li><li>Presenter:<br>ä»£ç†å±‚, View é€»è¾‘å¤„ç†çš„é›†åˆï¼Œå¹¶ä¸”å°† Model è·å–çš„æ•°æ®è¿”å›ç»™ View å±‚</li></ul><p>MVP ç±»å‹</p><ul><li>MVP ç®€å•ç‰ˆ</li><li>MVP-Clean<br>ä¸»è¦å‚è€ƒå®ç° <a href="https://8thlight.com/blog/uncle-bob/2012/08/13/the-clean-architecture.html" target="_blank" rel="noopener">Clean Architecture.</a></li><li>MVP-Dagger<br><a href="https://google.github.io/dagger/" target="_blank" rel="noopener">Dragger2 çš„ MVP å®ç°</a></li><li>MVP-RxJava<br><a href="https://github.com/ReactiveX/RxJava" target="_blank" rel="noopener">RxJava çš„ MVP</a></li></ul><h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><h3 id="MVP-çš„ç®€å•å®ç°"><a href="#MVP-çš„ç®€å•å®ç°" class="headerlink" title="MVP çš„ç®€å•å®ç°"></a>MVP çš„ç®€å•å®ç°</h3><h4 id="é€»è¾‘å›¾"><a href="#é€»è¾‘å›¾" class="headerlink" title="é€»è¾‘å›¾"></a>é€»è¾‘å›¾</h4><p><img src="https://i.imgur.com/IBkDUJ6.png" alt="mvp.png"></p><ul><li>View<br>UI çš„å±•ç¤º</li><li>BasePresenterImpl<br>å°è£…äº† View çš„å¤„ç†æµç¨‹ï¼Œæ•°æ®å›è°ƒç­‰ç­‰ï¼Œä¾‹å¦‚è¿›è¡Œç½‘ç»œè¯·æ±‚çš„æ—¶å€™ï¼Œloading çš„æ˜¾ç¤ºä¸éšè—ã€‚</li><li>LoginPresenter<br>ç™»å½•é€»è¾‘å¤„ç†çš„åœ°æ–¹</li><li>BaseRespository<br>å°è£…äº†å¼‚å¸¸å¤„ç†ï¼Œä¾‹å¦‚ç½‘ç»œè¯·æ±‚å›è°ƒçš„æ—¶å€™ï¼Œé¡µé¢æ¶ˆå¤±äº†ï¼Œè¿™æ—¶å€™å†è¿›è¡Œ ui å¤„ç†çš„è¯å°±ä¼šå¥”æºƒã€‚<br>ä¸ºäº†ä¸æ¯ä¸ªé¡µé¢éƒ½åŠ ä¸Šåˆ¤ç©ºå¤„ç†ï¼Œæ‰€ä»¥å°±å°è£…äº†ä¸€å±‚ã€‚å¦‚ä¸éœ€è¦å¯ä»¥å»æ‰è¿™ä¸€å±‚</li><li>LoginRespository<br>ç™»å½•çœŸæ­£æ‰§è¡Œçš„åœ°æ–¹</li></ul><h4 id="å…³é”®ä»£ç "><a href="#å…³é”®ä»£ç " class="headerlink" title="å…³é”®ä»£ç "></a>å…³é”®ä»£ç </h4><p> <strong>MainActivity.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> <span class="keyword">implements</span> <span class="title">IBaseView</span>&lt;<span class="title">String</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">         LoginPresenter loginPresenter;</span><br><span class="line"></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">             <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">             setContentView(R.layout.activity_main);</span><br><span class="line">             loginPresenter = <span class="keyword">new</span> LoginPresenter(<span class="keyword">this</span>);</span><br><span class="line">             loginPresenter.toLogin(<span class="string">"111"</span>, <span class="string">"111"</span>);</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onDestroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">             loginPresenter.unBind();</span><br><span class="line">             <span class="keyword">super</span>.onDestroy();</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onSuccess</span><span class="params">(String Result)</span> </span>&#123;</span><br><span class="line">             Log.i(<span class="string">"MainActivity"</span>, Result);</span><br><span class="line"></span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onFailed</span><span class="params">(ErrorCode errorCode)</span> </span>&#123;</span><br><span class="line">             Log.i(<span class="string">"MainActivity"</span>, errorCode.getMessage());</span><br><span class="line">             String msg = <span class="keyword">null</span>;</span><br><span class="line">             msg.toLowerCase();</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showProgress</span><span class="params">()</span> </span>&#123;</span><br><span class="line">             Log.i(<span class="string">"MainActivity"</span>, <span class="string">"loading"</span>);</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">hideProgress</span><span class="params">()</span> </span>&#123;</span><br><span class="line">             Log.i(<span class="string">"MainActivity"</span>, <span class="string">"hide loading"</span>);</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure><p><strong>LoginPresenter.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginPresenter</span> <span class="keyword">extends</span> <span class="title">BasePresenterImpl</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        IBaseRepository baseRepository;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">LoginPresenter</span><span class="params">(IBaseView mView)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">super</span>(mView);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">toLogin</span><span class="params">(String uid, String password)</span> </span>&#123;</span><br><span class="line">            mView.showProgress();</span><br><span class="line">            baseRepository = LoginRepository.Builder(baseCallback)</span><br><span class="line">                .setUid(uid).setPassword(password);</span><br><span class="line">            baseRepository.Action();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p><strong>LoginRepository.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginRepository</span> <span class="keyword">extends</span> <span class="title">BaseRepository</span> <span class="keyword">implements</span> <span class="title">IBaseRepository</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">         <span class="keyword">private</span> String uid;</span><br><span class="line"></span><br><span class="line">         <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> LoginRepository <span class="title">Builder</span><span class="params">(BaseInteractor.Callback callback)</span> </span>&#123;</span><br><span class="line">             <span class="keyword">return</span> <span class="keyword">new</span> LoginRepository(callback);</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">         <span class="function"><span class="keyword">public</span> String <span class="title">getUid</span><span class="params">()</span> </span>&#123;</span><br><span class="line">             <span class="keyword">return</span> uid;</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">         <span class="function"><span class="keyword">public</span> LoginRepository <span class="title">setUid</span><span class="params">(String uid)</span> </span>&#123;</span><br><span class="line">             <span class="keyword">this</span>.uid = uid;</span><br><span class="line">             <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">         <span class="function"><span class="keyword">public</span> String <span class="title">getPassword</span><span class="params">()</span> </span>&#123;</span><br><span class="line">             <span class="keyword">return</span> password;</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">         <span class="function"><span class="keyword">public</span> LoginRepository <span class="title">setPassword</span><span class="params">(String password)</span> </span>&#123;</span><br><span class="line">             <span class="keyword">this</span>.password = password;</span><br><span class="line">             <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="title">LoginRepository</span><span class="params">(BaseInteractor.Callback callback)</span> </span>&#123;</span><br><span class="line">             <span class="keyword">super</span>(callback);</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Action</span><span class="params">()</span> </span>&#123;</span><br><span class="line">     <span class="comment">//        TODO</span></span><br><span class="line">     <span class="comment">//        ç½‘ç»œè¯·æ±‚</span></span><br><span class="line">     <span class="comment">//        onRequsetSuccess("login success");</span></span><br><span class="line"></span><br><span class="line">             onRequestFailed(<span class="keyword">new</span> ErrorCode().setStatus(<span class="number">0</span>).setMessage(<span class="string">"login fail"</span>));</span><br><span class="line"></span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Cancel</span><span class="params">()</span> </span>&#123;</span><br><span class="line">     <span class="comment">//        TODO</span></span><br><span class="line">     <span class="comment">//        å–æ¶ˆç½‘ç»œè¯·æ±‚</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">//        å›è°ƒä¸Šä¸€æ¬¡è¿›è¡Œå¼‚å¸¸å¤„ç†</span></span><br><span class="line">             onCancel();</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure><p> <strong>å®Œæ•´ä»£ç å·²ç»ä¸Šä¼ åˆ°githubä¸Šå»äº† -&gt; <a href="https://github.com/rinfon/mvp.git" target="_blank" rel="noopener">https://github.com/rinfon/mvp.git</a></strong></p><h3 id="MVP-Clean"><a href="#MVP-Clean" class="headerlink" title="MVP-Clean"></a>MVP-Clean</h3><h4 id="é€»è¾‘å›¾-1"><a href="#é€»è¾‘å›¾-1" class="headerlink" title="é€»è¾‘å›¾"></a>é€»è¾‘å›¾</h4><ul><li>Clean æ¶æ„å›¾<br><img src="https://i.imgur.com/WgwIlg5.png" alt="195193-73c5ad459c2199c2.png"></li><li>æ—¶åºå›¾<br><img src="https://i.imgur.com/bDhfdeD.png" alt="195193-3db604de6c4b0137.png"><br>å°±åƒè¿™ç¯‡æ–‡ç« <a href="https://www.jianshu.com/p/7ae3095f2cb5" target="_blank" rel="noopener">Android å®˜æ–¹æ¶æ„é¡¹ç›®ä¹‹ MVP + Clean æ‰€è¯´</a>ï¼Œclean æ¶æ„æ¯”ç®€å•ç‰ˆçš„ MVP å°±æ˜¯å¤šäº†ä¸€å±‚ Domain å±‚ï¼Œå‡è½» Presenter çš„è´Ÿæ‹…ã€‚</li></ul><h4 id="å…³é”®ä»£ç -1"><a href="#å…³é”®ä»£ç -1" class="headerlink" title="å…³é”®ä»£ç "></a>å…³é”®ä»£ç </h4><p> åœ¨ç ”ç©¶å®˜æ–¹çš„<a href="https://github.com/googlesamples/android-architecture/tree/todo-mvp-clean/" target="_blank" rel="noopener">Demo</a>ä¸­ï¼Œæœ‰äº›åœ°æ–¹è¿˜æ˜¯å€¼å¾—æ–Ÿé…Œçš„</p><ul><li>View å±‚ä¸é€šç”¨ï¼Œä¾‹å¦‚æœ‰äº› loadingï¼ŒonSuccessï¼ŒonError ç­‰é€šç”¨å‡½æ•°åº”è¯¥æŠ½è±¡åˆ° BaseView é‡Œé¢å»ï¼Œå‡å°‘ä»£ç é‡</li><li>æ‰€æœ‰çš„ Task éƒ½åœ¨ä¸€å¼€å§‹å°±åœ¨ç•Œé¢åˆå§‹åŒ–å¥½äº†ï¼Œå¦‚æœæœ‰äº›åŠŸèƒ½æˆ‘æ²¡æœ‰ç”¨åˆ°ï¼Œé‚£ä¹ˆå°±æµªè´¹èµ„æºäº†ï¼Œåº”è¯¥æ”¹æˆéœ€è¦ç”¨åˆ°çš„æ—¶å€™å†åˆå§‹åŒ–</li><li>åœ¨ presenter åˆå§‹åŒ–çš„æ—¶å€™ï¼ŒView å±‚ä¼ çš„å‚æ•°å¤ªå¤šäº†ã€‚ä¾‹å¦‚ View å±‚æ‰€æœ‰çš„ task éƒ½è¦åˆå§‹åŒ–å¥½ä¼ è¿›å»ã€‚ä¸ªäººè®¤ä¸ºè¿™æ˜¯ä¸ç§‘å­¦çš„ã€‚ä½†åæ¥æƒ³å®˜æ–¹è¿™æ ·å†™çš„åŸå› æ˜¯ä¸ºäº†åŒºåˆ† View ä¸ Presenter çš„èŒè´£ï¼ˆçœ‹æ¥æˆ‘è¿˜æ˜¯å¤ªå¹´è½»äº†ï¼‰ï¼ŒView ä½œä¸ºæ•°æ®çš„æä¾›è€…ï¼ŒPresenter ä½œä¸ºæ•°æ®çš„æ¥å—è€…ã€‚æ‰€ä»¥æ‰ä¸åœ¨ Presenter å±‚æ–°å»ºæ•°æ®ã€‚æ—¢ç„¶å¦‚æ­¤ï¼Œé‚£åªéœ€è¦ Builder æ¨¡å¼å°±å¯ä»¥è§£å†³å‚æ•°è¿‡å¤šçš„é—®é¢˜äº†ã€‚</li><li>Presenter å±‚ callback é‡å¤ä»£ç è¿‡å¤šï¼Œä¾‹å¦‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mUseCaseHandler.execute(loginTask, <span class="keyword">new</span> LoginTask.LoginRequestValues(uid, password),</span><br><span class="line">                                <span class="keyword">new</span> UseCase.UseCaseCallback&lt;BaseResponseValues&gt;() &#123;</span><br><span class="line"></span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onSuccess</span><span class="params">(BaseResponseValues response)</span> </span>&#123;</span><br><span class="line">                    mView.closeLoading();</span><br><span class="line">                    mView.onSuccess(response);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onError</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                    mView.closeLoading();</span><br><span class="line">                    mView.onFail();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br></pre></td></tr></table></figure><p>æ¯æ¬¡ excute éƒ½éœ€è¦æä¾›ä¸€ä¸ª callbackï¼Œè€Œæ¯ä¸ª callback ä»…ä»… response çš„ç±»å‹ä¸ä¸€æ ·è€Œå·²ã€‚æµç¨‹è¿˜æ˜¯ä¸€æ ·çš„ã€‚æ‰€ä»¥é‡å¤ä»£ç è¿˜æ˜¯å¾ˆå¤šã€‚</p><p>åŸæœ¬æƒ³åœ¨ UserCaseHandler é‡Œé¢å¢åŠ  View çš„æŒæœ‰ï¼Œä»è€Œåœ¨ UserCaseHandler è¿›è¡Œ CallBack çš„æ—¶å€™æŠŠ closeloading å’Œ onSuccesï¼ŒonFail éƒ½å†™å¥½ï¼Œè¿™æ ·å°±å¯ä»¥è§£å†³é—®é¢˜äº†ã€‚</p><p><strong>è¿™æ ·çš„è®¾è®¡æ–¹æ¡ˆæœ‰ä¸ªå¼Šç«¯ï¼ŒView å±‚å…¥ä¾µäº† UserCaseHandlerï¼Œè€¦åˆåº¦åˆå¢åŠ äº†ã€‚æ‰€ä»¥çœ‹å®é™…éœ€æ±‚æ¥æƒè¡¡å§</strong></p><p>æ¥æ¥æ¥ï¼Œä¸Šä»£ç </p><p><strong>MvpCleanActivity.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MvpCleanActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> <span class="keyword">implements</span> <span class="title">LoginContract</span>.<span class="title">View</span>&lt;<span class="title">BaseResponseValues</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">            CleanLoginPresenter loginPresenter;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">                setContentView(R.layout.activity_main);</span><br><span class="line">                loginPresenter = <span class="keyword">new</span> CleanLoginPresenter(<span class="keyword">this</span>, UseCaseHandler.getInstance(), <span class="keyword">new</span> LoginTask());</span><br><span class="line">                loginPresenter.login(<span class="string">"111"</span>, <span class="string">"111"</span>);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onDestroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">super</span>.onDestroy();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showLoading</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                Log.i(<span class="string">"MvpCleanActivity"</span>, <span class="string">"showloading"</span>);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">closeLoading</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                Log.i(<span class="string">"MvpCleanActivity"</span>, <span class="string">"closeloading"</span>);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onSuccess</span><span class="params">(BaseResponseValues r)</span> </span>&#123;</span><br><span class="line">                Log.i(<span class="string">"MvpCleanActivity"</span>, r.getResult().getMessage());</span><br><span class="line">        <span class="comment">//        will crash</span></span><br><span class="line">                String msg = <span class="keyword">null</span>;</span><br><span class="line">                msg.toLowerCase();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onFail</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                Log.i(<span class="string">"MvpCleanActivity"</span>, <span class="string">"login fail"</span>);</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure><p><strong>CleanLoginPresenter.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CleanLoginPresenter</span> <span class="keyword">implements</span> <span class="title">LoginContract</span>.<span class="title">Presenter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">private</span> <span class="keyword">final</span> LoginContract.View mView;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">private</span> <span class="keyword">final</span> UseCaseHandler mUseCaseHandler;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">private</span> <span class="keyword">final</span> LoginTask loginTask;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="title">CleanLoginPresenter</span><span class="params">(LoginContract.View mView, UseCaseHandler mUseCaseHandler, LoginTask loginTask)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//        TODO å‚æ•°è¿‡å¤šï¼Œä½¿ç”¨ builder æ¨¡å¼</span></span><br><span class="line">                <span class="keyword">this</span>.mView = mView;</span><br><span class="line">                <span class="keyword">this</span>.mUseCaseHandler = mUseCaseHandler;</span><br><span class="line">                <span class="keyword">this</span>.loginTask = loginTask;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">login</span><span class="params">(String uid, String password)</span> </span>&#123;</span><br><span class="line">                mView.showLoading();</span><br><span class="line">                mUseCaseHandler.execute(loginTask, <span class="keyword">new</span> LoginTask.LoginRequestValues(uid, password),</span><br><span class="line">                        <span class="keyword">new</span> UseCase.UseCaseCallback&lt;BaseResponseValues&gt;() &#123;</span><br><span class="line"></span><br><span class="line">                            <span class="meta">@Override</span></span><br><span class="line">                            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onSuccess</span><span class="params">(BaseResponseValues response)</span> </span>&#123;</span><br><span class="line">                                mView.closeLoading();</span><br><span class="line">                                mView.onSuccess(response);</span><br><span class="line">                            &#125;</span><br><span class="line"></span><br><span class="line">                            <span class="meta">@Override</span></span><br><span class="line">                            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onError</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                                mView.closeLoading();</span><br><span class="line">                                mView.onFail();</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;);</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure><p><strong>LoginTask.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginTask</span> <span class="keyword">extends</span> <span class="title">UseCase</span>&lt;<span class="title">LoginTask</span>.<span class="title">LoginRequestValues</span>, <span class="title">BaseResponseValues</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">             <span class="meta">@Override</span></span><br><span class="line">             <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">executeUseCase</span><span class="params">(LoginRequestValues requestValues)</span> </span>&#123;</span><br><span class="line">                 <span class="comment">//        TODO ç½‘ç»œè¯·æ±‚</span></span><br><span class="line"></span><br><span class="line">                 <span class="comment">//        å›è°ƒ</span></span><br><span class="line">                 getUseCaseCallback().onSuccess(<span class="keyword">new</span> BaseResponseValues(</span><br><span class="line">                                                                       ResponseEntry</span><br><span class="line">                                                                       .Builder()</span><br><span class="line">                                                                       .setStatus(<span class="number">1</span>)</span><br><span class="line">                                                                       .setMessage(<span class="string">"Login success"</span>)));</span><br><span class="line"></span><br><span class="line">             &#125;</span><br><span class="line"></span><br><span class="line">             <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginRequestValues</span> <span class="keyword">extends</span> <span class="title">BaseRequsetValues</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">                 <span class="function"><span class="keyword">public</span> <span class="title">LoginRequestValues</span><span class="params">(@NonNull String uid, @NonNull String password)</span> </span>&#123;</span><br><span class="line">                     <span class="keyword">super</span>(<span class="keyword">new</span> HashMap&lt;String, String&gt;());</span><br><span class="line">                     uid = checkNotNull(uid, <span class="string">"task cannot be null!"</span>);</span><br><span class="line">                     password = checkNotNull(password, <span class="string">"task cannot be null!"</span>);</span><br><span class="line">                     getParmas().put(<span class="string">"uid"</span>, uid);</span><br><span class="line">                     getParmas().put(<span class="string">"password"</span>, password);</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;</span><br></pre></td></tr></table></figure><p> LoginTask é‡Œé¢è·Ÿå®˜æ–¹è¿˜æ˜¯ä¸ä¸€æ ·çš„ï¼Œå› ä¸ºå®é™…éœ€æ±‚ä¸­ï¼Œè¯·æ±‚çš„å‚æ•°å’Œè¿”å›çš„ç»“æœç»“æ„å¤§å¤šæ•°éƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥ RequestValues å’Œ ResponseValues è¿˜æ˜¯å¯ä»¥å°è£…æˆå…¬ç”¨çš„ã€‚</p><p><strong>LoginContract.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginContract</span> </span>&#123;</span><br><span class="line">             <span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">View</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">                 <span class="function"><span class="keyword">void</span> <span class="title">showLoading</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">                 <span class="function"><span class="keyword">void</span> <span class="title">closeLoading</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">                 <span class="function"><span class="keyword">void</span> <span class="title">onSuccess</span><span class="params">(T Result)</span></span>;</span><br><span class="line"></span><br><span class="line">                 <span class="function"><span class="keyword">void</span> <span class="title">onFail</span><span class="params">()</span></span>;</span><br><span class="line">             &#125;</span><br><span class="line"></span><br><span class="line">             <span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Presenter</span> </span>&#123;</span><br><span class="line">                 <span class="function"><span class="keyword">void</span> <span class="title">login</span><span class="params">(String uid, String password)</span></span>;</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;</span><br></pre></td></tr></table></figure><p><strong>å°±åƒæœ¬æ–‡æ‰€è¯´ï¼ŒView å±‚å¯ä»¥å†å°è£…æˆ BaseViewï¼ŒæŠŠé‡å¤çš„çš„ä»£ç æ”¾è¿›å»</strong></p><p><strong>UserCase</strong><br>ç›¸å…³çš„å°±ä¸æ”¾å‡ºæ¥äº†ï¼Œå®˜æ–¹å·²ç»å°è£…å¥½äº†ï¼Œå®é™…ä¸Šå°±æ˜¯å°è£…äº†ä¸€ä¸ªçº¿ç¨‹æ± ï¼Œç”¨äºå¼‚æ­¥å¤„ç† Taskï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨å³å¯ã€‚<br><strong>å®Œæ•´ä»£ç å·²ç»ä¸Šä¼ åˆ° githubä¸Šå»äº† -&gt; <a href="https://github.com/rinfon/mvp.git" target="_blank" rel="noopener">https://github.com/rinfon/mvp.git</a></strong></p><h3 id="MVP-Dagger"><a href="#MVP-Dagger" class="headerlink" title="MVP-Dagger"></a>MVP-Dagger</h3><p>  æœªå®Œå¾…ç»­</p><h3 id="MVP-RxJava"><a href="#MVP-RxJava" class="headerlink" title="MVP-RxJava"></a>MVP-RxJava</h3><p><code>RxJava</code> ï¼Œä¹‹å‰æˆ‘ä¸€ç›´å¾ˆæŠ—æ‹’ï¼Œå› ä¸ºä¸Šæ‰‹æ„Ÿè§‰å¾ˆéš¾ï¼Œå¦ä¸€éƒ¨åˆ†å¯èƒ½è‡ªå·±å¿ƒç‡¥ï¼Œé™ä¸ä¸‹æ¥å¥½å¥½ç ”ç©¶ã€‚ä½†æœ€è¿‘çœ‹ MVP-clean çš„æ—¶å€™æœ‰ç”¨åˆ°ï¼Œæ‰€ä»¥ä¹Ÿå°±é“ä¸‹å¿ƒæ¥ç ”ç©¶äº†ä¸€ä¸‹ã€‚</p><p>  æœ¬æ¥æƒ³å†™ç¯‡æ–‡ç« æ¥åˆ†äº«ä¸€ä¸‹çš„ï¼Œä½†åæ¥çœ‹åˆ°å¤§ç¥ä»¬éƒ½å·²ç»è§£é‡Šçš„å¾ˆæ¸…æ¥šï¼Œè¿æˆ‘éƒ½èƒ½çœ‹æ‡‚çš„ï¼Œæˆ‘ç›¸ä¿¡ä½ ä»¬éƒ½èƒ½çœ‹æ‡‚çš„ã€‚</p><p>  é™„ä¸Šé“¾æ¥ ï¼Œ<a href="https://www.jianshu.com/p/464fa025229e" target="_blank" rel="noopener">å°æ°´ç®¡ RxJava</a> é€šè¿‡ä½œè€…çš„å°æ°´ç®¡ï¼Œæˆ‘ç›¸ä¿¡ä½ ä»¬ä¹Ÿä¼šå–œæ¬¢ä¸Š RxJava çš„ã€‚</p><h4 id="å›åˆ°æ•´ä½“"><a href="#å›åˆ°æ•´ä½“" class="headerlink" title="å›åˆ°æ•´ä½“"></a>å›åˆ°æ•´ä½“</h4><p>  MVP-RxJavaï¼Œæˆ‘çœ‹äº† google çš„ demo ä¹‹åï¼Œå‘ç°å…¶å®æ²¡ä»€ä¹ˆç‰¹åˆ«çš„ç¥çš„åœ°æ–¹ï¼ˆåº”è¯¥æ˜¯æ²¡ä»€ä¹ˆå‡ºå½©çš„åœ°æ–¹ï¼‰ï¼Œä¹Ÿå°±æ˜¯ç®€å•ç‰ˆçš„ MVP åŠ ä¸Š RxJava è€Œå·²ï¼Œæ‰€ä»¥ demo å°±ä¸æ”¾å‡ºæ¥äº†ã€‚æ”¾å‡ºå…³é”®ä»£ç å§</p><p>  <strong>LoginPresenter.Java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">mCompositeDisposable.add(Observable.create(<span class="keyword">new</span> ObservableOnSubscribe&lt;User&gt;() &#123;</span><br><span class="line">                  <span class="meta">@Override</span></span><br><span class="line">                  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">subscribe</span><span class="params">(ObservableEmitter&lt;User&gt; e)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">                      User user = <span class="keyword">new</span> User();</span><br><span class="line">                      user.uid = uid;</span><br><span class="line">                      user.password = password;</span><br><span class="line">                      e.onNext(user);</span><br><span class="line">                      e.onComplete();</span><br><span class="line">                  &#125;</span><br><span class="line">              &#125;).subscribeOn(mSchedulerProvider.io())</span><br><span class="line">                      .observeOn(mSchedulerProvider.ui())</span><br><span class="line">                      .subscribe(<span class="keyword">new</span> Consumer&lt;User&gt;() &#123;</span><br><span class="line">                          <span class="meta">@Override</span></span><br><span class="line">                          <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(User user)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">                              mView.closeLoading();</span><br><span class="line">                              mView.onSuccess(user);</span><br><span class="line">                          &#125;</span><br><span class="line">                      &#125;, <span class="keyword">new</span> Consumer&lt;Throwable&gt;() &#123;</span><br><span class="line">                          <span class="meta">@Override</span></span><br><span class="line">                          <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Throwable throwable)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">                              mView.closeLoading();</span><br><span class="line">                              mView.onFail();</span><br><span class="line">                          &#125;</span><br><span class="line">                      &#125;));</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ul><li>ä»»ä½•æ¶æ„è®¾è®¡éƒ½æ˜¯ä¸ºäº†è§£è€¦ï¼Œè€Œè§£è€¦éšä¹‹å¸¦æ¥çš„å°±æ˜¯ä»£ç çš„å¢åŠ ä»¥åŠé‡å¤</li><li>è®¾è®¡çš„è¿‡ç¨‹ä¸­ï¼Œè¦æ³¨æ„å„å±‚çš„èŒè´£ï¼Œå°½é‡å¯ä»¥é¿å…å…¥ä¾µ</li><li>åœ¨æˆ‘çš„ Demo ä¸­ï¼Œä¸ºäº†å¤„ç†å›è°ƒå¯¼è‡´çš„å¥”æºƒï¼Œæˆ‘å¯¹å›è°ƒè¿›è¡Œäº† try catchï¼Œè¿™æ²¡æœ‰é—®é¢˜ï¼Œä½†è¦å¯¹è¯¦ç»†çš„å¼‚å¸¸è¿›è¡ŒåŒºåˆ†ï¼Œä¸èƒ½æ‰€æœ‰çš„å¼‚å¸¸éƒ½åƒæ‰ï¼Œè¿™æ˜¯ä¸€ç§ä¸è´Ÿè´£çš„å†™æ³•ï¼ˆå°å­©å­ä¸è¦æ¨¡èŒƒå•¦ï¼‰æœ‰æ—¶å€™ï¼Œå°±åº”è¯¥è®©å®ƒ Crashï¼Œæ‰çŸ¥é“é—®é¢˜æ‰€åœ¨ã€‚å¦‚æœéè¦åƒæ‰æ‰€æœ‰çš„å¼‚å¸¸ï¼Œä¹Ÿè¦å°è£…æˆä¸€ä¸ª ErrorCodeï¼Œå¯¹é”™è¯¯ä¿¡æ¯è¿›è¡Œæ”¶é›†ã€‚<a href="https://www.zhihu.com/question/29459586" target="_blank" rel="noopener">çŸ¥ä¹é“¾æ¥</a>ï¼Œé‡Œé¢æœ‰å¤§ç‰›è§£é‡Šçš„å¾ˆæ¸…æ¥šäº†ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;éœ€æ±‚&quot;&gt;&lt;a href=&quot;#éœ€æ±‚&quot; class=&quot;headerlink&quot; title=&quot;éœ€æ±‚&quot;&gt;&lt;/a&gt;éœ€æ±‚&lt;/h2&gt;&lt;p&gt;æœ¬æ–‡ä¸æ˜¯å­¦æœ¯æ–‡å­—è®¨è®ºï¼ˆå¤åˆ¶ç²˜è´´ï¼‰æ–‡ï¼Œæ‰€ä»¥ä¸ä¼šè¯¦ç»†è§£é‡Šä»€ä¹ˆå« MVPï¼ŒMVCï¼ŒDaggerï¼ŒClean ç­‰ç­‰ã€‚ä¸»è¦ä»¥å®é™…é¡¹ç›®ä¸ºåŸºç¡€ï¼Œç®€å•çš„å®ç°ç™»å½•åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;å½“ä»£ç é‡è¶Šæ¥è¶Šå¤§ï¼Œéœ€è¦å¯¹å·²æœ‰çš„ä»£ç è¿›è¡Œæ•´ç†ä»¥åŠé‡æ„ï¼Œå®ç°è§£è€¦.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ— è®ºä»»ä½•çš„æ¶æ„æ¨¡å¼ä»¥åŠè®¾è®¡æ¨¡å¼éƒ½æ˜¯ä¸ºäº†ä»£ç è§£è€¦&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;ç ”ç©¶æ–¹å‘&quot;&gt;&lt;a href=&quot;#ç ”ç©¶æ–¹å‘&quot; class=&quot;headerlink&quot; title=&quot;ç ”ç©¶æ–¹å‘&quot;&gt;&lt;/a&gt;ç ”ç©¶æ–¹å‘&lt;/h2&gt;&lt;p&gt;MVP æ¨¡å¼ï¼š&lt;br&gt;
    
    </summary>
    
    
      <category term="MVP" scheme="http://yoursite.com/tags/MVP/"/>
    
      <category term="MVVM" scheme="http://yoursite.com/tags/MVVM/"/>
    
      <category term="Androidæ¶æ„" scheme="http://yoursite.com/tags/Android%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>android studio Jar åŒ…åˆ¶ä½œä»¥åŠæ··æ·†</title>
    <link href="http://yoursite.com/2019/01/12/2019-01-12-android%20studio%20Jar%20%E5%8C%85%E5%88%B6%E4%BD%9C%E4%BB%A5%E5%8F%8A%E6%B7%B7%E6%B7%86/"/>
    <id>http://yoursite.com/2019/01/12/2019-01-12-android studio Jar åŒ…åˆ¶ä½œä»¥åŠæ··æ·†/</id>
    <published>2019-01-12T03:02:26.000Z</published>
    <updated>2019-01-12T03:08:13.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>  é¡¹ç›®è¶Šæ¥è¶Šå¤§ï¼Œéœ€è¦å¯¹æ ¸å¿ƒä»£ç è¿›è¡Œå°è£…åŠ å¯†ç®¡ç†</p><a id="more"></a><h3 id="Jar-åŒ…åˆ¶ä½œ"><a href="#Jar-åŒ…åˆ¶ä½œ" class="headerlink" title="Jar åŒ…åˆ¶ä½œ"></a>Jar åŒ…åˆ¶ä½œ</h3><ul><li>ä¼˜ç‚¹ï¼šç®€å•ï¼Œæ–¹ä¾¿</li><li>ç¼ºç‚¹ï¼šä¸èƒ½æŠŠèµ„æºæ–‡ä»¶éƒ½æ‰“è¿›å» Jar åŒ…é‡Œé¢ï¼Œä¾‹å¦‚å›¾ç‰‡ï¼Œå¸ƒå±€æ–‡ä»¶ç­‰ç­‰</li></ul><h3 id="aar-åˆ¶ä½œ"><a href="#aar-åˆ¶ä½œ" class="headerlink" title="aar åˆ¶ä½œ"></a>aar åˆ¶ä½œ</h3><ul><li>ä¼˜ç‚¹ï¼šè·Ÿ Jar ä¸€æ ·ï¼Œå¯ä»¥æŠŠèµ„æºæ–‡ä»¶éƒ½æ‰“åŒ…è¿›å»ï¼ŒASå¯ä»¥ç›´æ¥å¼•ç”¨ï¼Œç®¡ç†æ–¹ä¾¿</li><li>ç¼ºç‚¹ï¼š-</li></ul><h3 id="so-åˆ¶ä½œ"><a href="#so-åˆ¶ä½œ" class="headerlink" title="so åˆ¶ä½œ"></a>so åˆ¶ä½œ</h3><ul><li>ä¼˜ç‚¹ï¼šå¢åŠ åç¼–è¯‘éš¾åº¦ï¼Œæ ¸å®šä»£ç å¯ä»¥æ”¾è¿›å»</li><li>ç¼ºç‚¹ï¼šéœ€è¦ C/C++åŸºç¡€ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰éƒ½é€‚åˆæ”¾åˆ° so é‡Œé¢å»ã€‚</li></ul><h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><h3 id="åˆ¶ä½œ"><a href="#åˆ¶ä½œ" class="headerlink" title="åˆ¶ä½œ"></a>åˆ¶ä½œ</h3><ul><li>æ–°å»ºä¸€ä¸ª moduleï¼Œé€‰æ‹© Android Library</li><li>Finish</li><li>æŠŠä½ éœ€è¦å°è£…çš„ä»£ç å†™åœ¨ module é‡Œé¢å»</li></ul><h3 id="æ‰“åŒ…"><a href="#æ‰“åŒ…" class="headerlink" title="æ‰“åŒ…"></a>æ‰“åŒ…</h3><ul><li>åœ¨ module é‡Œé¢çš„ build.gradle æ–‡ä»¶åŠ å…¥ä¸€ä¸‹ Task</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">task <span class="title">buildJar</span><span class="params">(type: Jar, dependsOn: [<span class="string">'compileReleaseJavaWithJavac'</span>])</span> </span>&#123; <span class="comment">//  task buildJar(type: Jar, dependsOn: ['build'])</span></span><br><span class="line"><span class="comment">//    å¯¼å‡ºçš„ jar æ–‡ä»¶çš„åç§°</span></span><br><span class="line">    archiveName = <span class="string">"testJar-debug.jar"</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//éœ€æ‰“åŒ…çš„èµ„æºæ‰€åœ¨çš„è·¯å¾„é›†</span></span><br><span class="line">    from(<span class="string">'build/intermediates/classes/release'</span>)</span><br><span class="line">    destinationDir = file(<span class="string">'../libs'</span>)  <span class="comment">// //å¯¼å‡ºçš„ jar æ–‡ä»¶çš„å­˜æ”¾ç›®å½•ï¼ˆæœªæŒ‡å®šåˆ™é»˜è®¤å­˜æ”¾åœ¨ build/libs ä¸‹ï¼‰  destinationDir = file('D:/libs')</span></span><br><span class="line"></span><br><span class="line">    exclude <span class="string">"**/BuildConfig.class"</span>  <span class="comment">//å»æ‰ä¸è¦çš„ç±»</span></span><br><span class="line">    exclude(<span class="string">'**/R.class'</span>)</span><br><span class="line">    exclude(<span class="string">'**/R\$*.class'</span>)</span><br><span class="line">    include <span class="string">"**/*.*"</span>    <span class="comment">//éœ€è¦æ‰“åŒ…çš„ç±» å¦‚ // include('com/reginer/mytest/*.class')</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">task <span class="title">proguardJar</span><span class="params">(dependsOn: [<span class="string">'buildJar'</span>], type: ProGuardTask)</span> </span>&#123;</span><br><span class="line">    println(<span class="string">'proguard '</span>+project.name+<span class="string">' jar'</span>)</span><br><span class="line">    <span class="comment">//Android é»˜è®¤çš„ proguard æ–‡ä»¶</span></span><br><span class="line">    configuration android.getDefaultProguardFile(<span class="string">'proguard-android.txt'</span>)</span><br><span class="line">    <span class="comment">//åŠ è½½å„æ¨¡å— proguard é…ç½®æ–‡ä»¶</span></span><br><span class="line">    configuration <span class="string">'proguard-rules.pro'</span></span><br><span class="line"></span><br><span class="line">    String inJar = buildJar.archivePath.getAbsolutePath()</span><br><span class="line">    injars inJar</span><br><span class="line">    outjars inJar.substring(<span class="number">0</span>, inJar.lastIndexOf(<span class="string">'-'</span>)) + <span class="string">"-release.jar"</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//è®¾ç½®ä¸åˆ é™¤æœªå¼•ç”¨çš„èµ„æº(ç±»ï¼Œæ–¹æ³•ç­‰)</span></span><br><span class="line">    dontshrink</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿è¡Œæ—¶ jar åŒ…ä¸æ··æ·†</span></span><br><span class="line">    Plugin plugin = getPlugins().hasPlugin(AppPlugin) ?</span><br><span class="line">            getPlugins().findPlugin(AppPlugin) :</span><br><span class="line">            getPlugins().findPlugin(LibraryPlugin)</span><br><span class="line">    <span class="keyword">if</span> (plugin != <span class="keyword">null</span>) &#123;</span><br><span class="line">        List&lt;String&gt; runtimeJarList</span><br><span class="line">        <span class="keyword">if</span> (plugin.getMetaClass().getMetaMethod(<span class="string">"getRuntimeJarList"</span>)) &#123;</span><br><span class="line">            runtimeJarList = plugin.getRuntimeJarList()</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (android.getMetaClass().getMetaMethod(<span class="string">"getBootClasspath"</span>)) &#123;</span><br><span class="line">            runtimeJarList = android.getBootClasspath()</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            runtimeJarList = plugin.getBootClasspath()</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (String runtimeJar : runtimeJarList) &#123;</span><br><span class="line">            libraryjars(runtimeJar)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>æ‰“å¼€ Gradle ä»»åŠ¡ï¼Œæ‰§è¡Œ buildJar</p></li><li><p>ç„¶åå†æ‰§è¡Œ proguardJar ä»»åŠ¡è¿›è¡Œæ··æ·†</p></li><li><p>æœ€åä½ ä¼šå‘ç°åœ¨é¡¹ç›®ä¸­å‡ºç° test-relase.jar</p><p><strong>æ³¨æ„buildJaré‡Œé¢archiveNameåå­—å¿…é¡»æœ‰-ï¼Œä¸ç„¶ä¼šæ‰§è¡Œé”™è¯¯çš„ã€‚åŸå› åœ¨ä¸åœ¨æ··æ·†çš„æ—¶å€™ï¼Œéœ€è¦æŠŠåŒ…åæ”¹æˆ relase.ä¸å–œæ¬¢çš„å¯ä»¥è‡ªè¡Œä¿®æ”¹é€»è¾‘ä»£ç </strong></p><p><strong>æ³¨æ„buildJaré‡Œé¢archiveNameåå­—å¿…é¡»æœ‰-ï¼Œä¸ç„¶ä¼šæ‰§è¡Œé”™è¯¯çš„ã€‚åŸå› åœ¨ä¸åœ¨æ··æ·†çš„æ—¶å€™ï¼Œéœ€è¦æŠŠåŒ…åæ”¹æˆ relase.ä¸å–œæ¬¢çš„å¯ä»¥è‡ªè¡Œä¿®æ”¹é€»è¾‘ä»£ç </strong></p><p><strong>æ³¨æ„buildJaré‡Œé¢archiveNameåå­—å¿…é¡»æœ‰-ï¼Œä¸ç„¶ä¼šæ‰§è¡Œé”™è¯¯çš„ã€‚åŸå› åœ¨ä¸åœ¨æ··æ·†çš„æ—¶å€™ï¼Œéœ€è¦æŠŠåŒ…åæ”¹æˆ relase.ä¸å–œæ¬¢çš„å¯ä»¥è‡ªè¡Œä¿®æ”¹é€»è¾‘ä»£ç </strong></p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;éœ€æ±‚&quot;&gt;&lt;a href=&quot;#éœ€æ±‚&quot; class=&quot;headerlink&quot; title=&quot;éœ€æ±‚&quot;&gt;&lt;/a&gt;éœ€æ±‚&lt;/h2&gt;&lt;p&gt;  é¡¹ç›®è¶Šæ¥è¶Šå¤§ï¼Œéœ€è¦å¯¹æ ¸å¿ƒä»£ç è¿›è¡Œå°è£…åŠ å¯†ç®¡ç†&lt;/p&gt;
    
    </summary>
    
    
      <category term="android" scheme="http://yoursite.com/tags/android/"/>
    
  </entry>
  
  <entry>
    <title>è§£å†³ found an invalid color</title>
    <link href="http://yoursite.com/2019/01/11/2019-01-11-%E8%A7%A3%E5%86%B3%20found%20an%20invalid%20color/"/>
    <id>http://yoursite.com/2019/01/11/2019-01-11-è§£å†³ found an invalid color/</id>
    <published>2019-01-11T09:01:22.000Z</published>
    <updated>2019-01-11T09:38:34.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>åœ¨å¯¼å…¥ eclipse é¡¹ç›®çš„æ—¶å€™ï¼Œæœ‰æ—¶å€™ä¼šå‡ºç° found an invalid color è¿™ä¸ªé—®é¢˜ï¼ŒåŸå› åœ¨äº AS å¯¹.9 å›¾ç‰‡çš„æ£€æŸ¥</p><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p> å›¾ç‰‡æ˜¯.9.png æ ¼å¼çš„ï¼Œä½†æ˜¯æ²¡æœ‰ç”»é»‘è‰²è¾¹æ¡†çº¿ï¼Œéœ€è¦ç”»ä¸Šè¾¹æ¡†çº¿ï¼Œä¿å­˜å°±å¯ä»¥äº†ã€‚æˆ–è€…ç›´æ¥æŠŠ.9 æ ¼å¼å»æ‰å³å¯</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;é—®é¢˜&quot;&gt;&lt;a href=&quot;#é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜&quot;&gt;&lt;/a&gt;é—®é¢˜&lt;/h2&gt;&lt;p&gt;åœ¨å¯¼å…¥ eclipse é¡¹ç›®çš„æ—¶å€™ï¼Œæœ‰æ—¶å€™ä¼šå‡ºç° found an invalid color è¿™ä¸ªé—®é¢˜ï¼ŒåŸå› åœ¨äº AS å¯¹.9 å›¾ç‰‡çš„æ£€æŸ¥
      
    
    </summary>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>git çš„ç®€å•ä»‹ç»</title>
    <link href="http://yoursite.com/2019/01/11/2019-01-11-git%20%E7%9A%84%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/"/>
    <id>http://yoursite.com/2019/01/11/2019-01-11-git çš„ç®€å•ä»‹ç»/</id>
    <published>2019-01-11T08:02:20.000Z</published>
    <updated>2019-01-11T08:49:15.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="git-çš„ç®€å•ä»‹ç»"><a href="#git-çš„ç®€å•ä»‹ç»" class="headerlink" title="git çš„ç®€å•ä»‹ç»"></a>git çš„ç®€å•ä»‹ç»</h1><h2 id="æ˜¯ä»€ä¹ˆ"><a href="#æ˜¯ä»€ä¹ˆ" class="headerlink" title="æ˜¯ä»€ä¹ˆ?"></a>æ˜¯ä»€ä¹ˆ?</h2><p>   Git æ˜¯ç›®å‰ä¸–ç•Œä¸Šæœ€å…ˆè¿›çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚</p><a id="more"></a><h2 id="ä¸ºä»€ä¹ˆ"><a href="#ä¸ºä»€ä¹ˆ" class="headerlink" title="ä¸ºä»€ä¹ˆ"></a>ä¸ºä»€ä¹ˆ</h2><ul><li>é€‚åˆåˆ†å¸ƒå¼å¼€å‘</li><li>é€Ÿåº¦å¿«ï¼Œçµæ´»</li><li>ä¼˜ç§€çš„è§£å†³å†²çªèƒ½åŠ›</li><li>ç‰ˆæœ¬ç®¡ç†</li></ul><h2 id="å·¥ä½œæµç¨‹"><a href="#å·¥ä½œæµç¨‹" class="headerlink" title="å·¥ä½œæµç¨‹"></a>å·¥ä½œæµç¨‹</h2><ol><li>å…‹éš†é¡¹ç›®</li><li>ä¿®æ”¹é¡¹ç›®</li><li>æäº¤æ›´æ”¹</li><li>æ‹‰å–è¿œç«¯æœ€æ–°çš„æ›´æ”¹ï¼ˆå¦‚æœåˆ«äººåœ¨ä½ ä¿®æ”¹æœŸé—´æœ‰æ›´æ”¹æ¨é€è¿‡ï¼Œåˆ™éœ€è¦æ‹‰å–ï¼‰</li><li>å¦‚æœ¬åœ°ä¿®æ”¹è·Ÿè¿œç«¯ä¿®æ”¹æœ‰å†²çªï¼Œåˆ™è§£å†³å†²çª</li><li>é‡æ–°æäº¤</li><li><p>æ¨é€è¿œç«¯</p><p>å¯¹åº”æµç¨‹å›¾å¦‚ä¸‹ï¼š<br><img src="https://i.imgur.com/lDyvwV4.png" alt="201609291518243574.png"></p></li></ol><h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><ul><li>git init<br>ç”¨äºåˆå§‹åŒ–é¡¹ç›®</li><li>git clone<br>ç”¨äºå…‹éš†é¡¹ç›®</li><li>git add<br>æ·»åŠ ä¿®æ”¹æ–‡ä»¶ã€‚<br>å…¶ä¸­ git add .ä»£è¡¨æ·»åŠ æ‰€æœ‰ä¿®æ”¹è¿‡çš„é—®é¢˜ä»¶ï¼Œgit add æ–‡ä»¶è·¯å¾„,ä»£è¡¨æ·»åŠ ç‰¹å®šçš„æ–‡ä»¶ã€‚</li><li>git commit<br>æäº¤æ›´æ”¹æ—¥å¿—ï¼Œä¾‹å¦‚ git commit -m â€œå¢åŠ åŠŸèƒ½â€</li><li>git fetch<br>æ£€æŸ¥è¿œç«¯æ˜¯å¦æœ‰æ›´æ”¹</li><li>git pull<br>æ‹‰å–è¿œç«¯çš„æœ€æ–°çš„ä»£ç ï¼Œä¾‹å¦‚ git pull â€“rebase.<br>rebase å’Œ merge çš„åŒºåˆ«åœ¨äºï¼šmerge æ“ä½œä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼Œä¹‹å‰çš„æäº¤åˆ†å¼€æ˜¾ç¤ºã€‚è€Œ rebase æ“ä½œä¸ä¼šç”Ÿæˆæ–°çš„èŠ‚ç‚¹ï¼Œæ˜¯å°†ä¸¤ä¸ªåˆ†æ”¯èåˆæˆä¸€ä¸ªçº¿æ€§çš„æäº¤ã€‚<br>æ‰€ä»¥æˆ‘ä»¬é€šå¸¸ git pull éƒ½ä¼šåŠ ä¸Š rebase çš„å‚æ•°</li><li>git push<br>æ¨é€æœ¬åœ°æ›´æ”¹åˆ°æœåŠ¡å™¨,ä¾‹å¦‚ git push orgin master</li><li>git branch<br>æŸ¥çœ‹å½“å‰åˆ†æ”¯,è€Œå¦‚æœåŠ ä¸Š-r å‚æ•°ï¼Œä»£è¡¨æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯ git branch -r</li><li>git checkout<br>åˆ‡æ¢åˆ†æ”¯ ä¾‹å¦‚ï¼Œgit checkout -b developï¼Œåˆ‡æ¢åˆ° develop åˆ†æ”¯ï¼Œå¦‚æœæœ¬åœ°å·²ç»æœ‰ develop åˆ†æ”¯ï¼Œåˆ™ git checkout develop</li><li>git tag<br>ä¸ºèŠ‚ç‚¹æ‰“æ—¥å¿—ï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬è¦ä¸º 1b2e1d63ff æ‰“ä¸Š 1.0 çš„æ ‡ç­¾:git tag 1.0 1b2e1d63ff</li><li>git reset<br>ä¸¢å¼ƒæ‰€æœ‰çš„æœ¬åœ°æ‰€æœ‰çš„æ›´æ”¹ï¼Œgit reset HEAD â€“hard,åŒæ—¶ä¹Ÿå¯ä»¥ç”¨æ­¤å‘½ä»¤å›åˆ°ä¹‹å‰çš„èŠ‚ç‚¹ï¼Œå¦‚æœæˆ‘è¦è¿”å›åˆ°ä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼ˆæ³¨æ„ï¼Œæ­¤è¿”å›æŒ‡çš„æ˜¯ä½ æœ¬åœ°è¿”å›ï¼Œè€Œä¸æ˜¯è¿œç«¯è¿”å›ï¼‰ï¼Œgit reset HEAD^ â€“hard</li><li>git status<br>æŸ¥çœ‹æœ¬åœ°ç¼“å­˜ä¿®æ”¹è®°å½•</li></ul><h2 id="å¸¸ç”¨æŠ€å·§"><a href="#å¸¸ç”¨æŠ€å·§" class="headerlink" title="å¸¸ç”¨æŠ€å·§"></a>å¸¸ç”¨æŠ€å·§</h2><h3 id="ç°åœ¨æœ‰-aã€bã€cã€dã€eï¼Œ5-ä¸ªæäº¤ç‚¹ï¼Œæˆ‘éœ€è¦åˆ‡æ¢å›æ»šåˆ°-c-èŠ‚ç‚¹ï¼Œä¸¢å¼ƒçš„-d-e-èŠ‚ç‚¹"><a href="#ç°åœ¨æœ‰-aã€bã€cã€dã€eï¼Œ5-ä¸ªæäº¤ç‚¹ï¼Œæˆ‘éœ€è¦åˆ‡æ¢å›æ»šåˆ°-c-èŠ‚ç‚¹ï¼Œä¸¢å¼ƒçš„-d-e-èŠ‚ç‚¹" class="headerlink" title="ç°åœ¨æœ‰ aã€bã€cã€dã€eï¼Œ5 ä¸ªæäº¤ç‚¹ï¼Œæˆ‘éœ€è¦åˆ‡æ¢å›æ»šåˆ° c èŠ‚ç‚¹ï¼Œä¸¢å¼ƒçš„ d,e èŠ‚ç‚¹"></a>ç°åœ¨æœ‰ aã€bã€cã€dã€eï¼Œ5 ä¸ªæäº¤ç‚¹ï¼Œæˆ‘éœ€è¦åˆ‡æ¢å›æ»šåˆ° c èŠ‚ç‚¹ï¼Œä¸¢å¼ƒçš„ d,e èŠ‚ç‚¹</h3><pre><code>git reset HEAD^^ --hardï¼ˆæˆ–è€… git reset c ç‚¹çš„ sha ç  --hardï¼‰git push origin HEAD --force</code></pre><h3 id="æŠŠåˆ«çš„åˆ†æ”¯æŸä¸ªæäº¤ç‚¹æäº¤åˆ°å½“å‰åˆ†æ”¯"><a href="#æŠŠåˆ«çš„åˆ†æ”¯æŸä¸ªæäº¤ç‚¹æäº¤åˆ°å½“å‰åˆ†æ”¯" class="headerlink" title="æŠŠåˆ«çš„åˆ†æ”¯æŸä¸ªæäº¤ç‚¹æäº¤åˆ°å½“å‰åˆ†æ”¯"></a>æŠŠåˆ«çš„åˆ†æ”¯æŸä¸ªæäº¤ç‚¹æäº¤åˆ°å½“å‰åˆ†æ”¯</h3><p>  ä¾‹å¦‚ develop ä¸Šæœ‰æäº¤ç‚¹ a(sha ç ä¸º 1b2e1d63ff),éœ€è¦æŠŠ a ä¹Ÿæäº¤åˆ° master ä¸Šå».</p><pre><code>git checkout mastergit cherry-pick -x 1b2e1d63ff,-x ä»£è¡¨ç€ä¿ç•™åŸå§‹ä½œè€…ä¿¡æ¯</code></pre><p>  å¦‚æœé€”ä¸­äº§ç”Ÿå†²çªï¼Œåˆ™æŒ‰ç…§æ ‡å‡†çš„è§£å†³å†²çªæ–¹æ³•å»è§£å†³ã€‚ç„¶åé‡æ–° commit å³å¯</p><h3 id="æŸ¥æ‰¾æŸä¸ªæ–‡ä»¶çš„æŸè¡Œä¿®æ”¹è®°å½•"><a href="#æŸ¥æ‰¾æŸä¸ªæ–‡ä»¶çš„æŸè¡Œä¿®æ”¹è®°å½•" class="headerlink" title="æŸ¥æ‰¾æŸä¸ªæ–‡ä»¶çš„æŸè¡Œä¿®æ”¹è®°å½•"></a>æŸ¥æ‰¾æŸä¸ªæ–‡ä»¶çš„æŸè¡Œä¿®æ”¹è®°å½•</h3><p>  æ–°æ¥æ‰‹äº†ä¸€ä¸ªé¡¹ç›®ï¼Œé‡Œé¢æŸä¸€è¡Œä»£ç ä¸çŸ¥é“ä¸ºä»€ä¹ˆåŸä½œè€…è¿™æ ·å†™ï¼Œéœ€è¦æŸ¥çœ‹å¯¹åº”çš„æäº¤ç‚¹è®°å½•æ‰èƒ½çŸ¥é“ä¸ºå•¥å½“åˆè¿™æ ·å†™<br>    ä¾‹å¦‚è¦æŸ¥çœ‹ a.java æ–‡ä»¶çš„ä¿®æ”¹è®°å½•</p><pre><code>git blame **/a.java(æ³¨æ„æ–‡ä»¶è·¯å¾„),å¾—åˆ°å¦‚ä¸‹ç»“æœ</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">^<span class="number">5</span>cdd7bd (Rinfon <span class="number">2018</span>-<span class="number">04</span>-<span class="number">02</span> <span class="number">13</span>:<span class="number">14</span>:<span class="number">34</span> +<span class="number">0800</span>  <span class="number">68</span>)     LocalTextView apStepBack;</span><br><span class="line">^<span class="number">5</span>cdd7bd (Rinfon <span class="number">2018</span>-<span class="number">04</span>-<span class="number">02</span> <span class="number">13</span>:<span class="number">14</span>:<span class="number">34</span> +<span class="number">0800</span>  <span class="number">69</span>)     <span class="meta">@BindView</span>(R.id.ap_step_next)</span><br><span class="line">^<span class="number">5</span>cdd7bd (Rinfon <span class="number">2018</span>-<span class="number">04</span>-<span class="number">02</span> <span class="number">13</span>:<span class="number">14</span>:<span class="number">34</span> +<span class="number">0800</span>  <span class="number">70</span>)     LocalTextView apStepNext;</span><br><span class="line"><span class="number">20997902</span> (Rinfon <span class="number">2018</span>-<span class="number">06</span>-<span class="number">25</span> <span class="number">12</span>:<span class="number">03</span>:<span class="number">13</span> +<span class="number">0800</span>  <span class="number">71</span>)     <span class="meta">@BindView</span>(R.id.ap_step_three_icon)</span><br><span class="line"><span class="number">20997902</span> (Rinfon <span class="number">2018</span>-<span class="number">06</span>-<span class="number">25</span> <span class="number">12</span>:<span class="number">03</span>:<span class="number">13</span> +<span class="number">0800</span>  <span class="number">72</span>)     ImageView apStepThreeIcon;</span><br><span class="line"><span class="number">20997902</span> (Rinfon <span class="number">2018</span>-<span class="number">06</span>-<span class="number">25</span> <span class="number">12</span>:<span class="number">03</span>:<span class="number">13</span> +<span class="number">0800</span>  <span class="number">73</span>)     <span class="meta">@BindView</span>(R.id.wifi_remember)</span><br><span class="line"><span class="number">20997902</span> (Rinfon <span class="number">2018</span>-<span class="number">06</span>-<span class="number">25</span> <span class="number">12</span>:<span class="number">03</span>:<span class="number">13</span> +<span class="number">0800</span>  <span class="number">74</span>)     CheckBox wifiRemember;</span><br><span class="line"><span class="number">20997902</span> (Rinfon <span class="number">2018</span>-<span class="number">06</span>-<span class="number">25</span> <span class="number">12</span>:<span class="number">03</span>:<span class="number">13</span> +<span class="number">0800</span>  <span class="number">75</span>)     <span class="meta">@BindView</span>(R.id.ap_step_btn_layout)</span><br><span class="line"><span class="number">20997902</span> (Rinfon <span class="number">2018</span>-<span class="number">06</span>-<span class="number">25</span> <span class="number">12</span>:<span class="number">03</span>:<span class="number">13</span> +<span class="number">0800</span>  <span class="number">76</span>)     LinearLayout apStepBtnLayout;</span><br><span class="line">^<span class="number">5</span>cdd7bd (Rinfon <span class="number">2018</span>-<span class="number">04</span>-<span class="number">02</span> <span class="number">13</span>:<span class="number">14</span>:<span class="number">34</span> +<span class="number">0800</span>  <span class="number">77</span>)     <span class="keyword">private</span> Unbinder unbinder;</span><br></pre></td></tr></table></figure><p>  è¿™æ—¶å€™å·²ç»å¾—åˆ°äº† sha ç ï¼Œå°±å¯ä»¥é€šè¿‡ git show 20997902,å¯ä»¥å¾—åˆ°ä¿®æ”¹çš„ä¿¡æ¯ã€‚</p><h2 id="åˆ†æ”¯ç®¡ç†"><a href="#åˆ†æ”¯ç®¡ç†" class="headerlink" title="åˆ†æ”¯ç®¡ç†"></a>åˆ†æ”¯ç®¡ç†</h2><p>ä¸»è¦åˆ†æ”¯</p><ul><li>master åˆ†æ”¯ã€‚ä»…ä¸”åªæœ‰ä¸€ä¸ªä¸»åˆ†æ”¯ï¼Œç”¨äºæä¾›æ­£å¼ç‰ˆæœ¬</li><li>develop åˆ†æ”¯ï¼Œå¼€å‘åˆ†æ”¯ï¼Œç”¨äºæ—¥å¸¸å¼€å‘ï¼Œå¦‚æœä¸€ä¸ªç‰ˆæœ¬å¼€å‘å®Œæ•´ï¼Œæµ‹è¯•é€šè¿‡ï¼Œåˆ™åˆå¹¶åˆ° develop é‡Œé¢å»ã€‚åˆå¹¶çš„æ—¶å€™éœ€è¦åŠ ä¸Š â€“no-ffï¼Œå¿«è¿›å¼åˆå¹¶ï¼Œä¿è¯ç‰ˆæœ¬çš„æ¼”è¿›æ¸…æ™°ã€‚<br>ä¸´æ—¶åˆ†æ”¯</li><li>feature åˆ†æ”¯ï¼Œå½“éœ€è¦åšä¸€ä¸ªæ–°åŠŸèƒ½æ—¶ï¼Œéœ€è¦åŸºäº develop å¼€ä¸€ä¸ª feature åˆ†æ”¯ï¼Œå³ä½¿ feature ä¸å®Œæˆï¼Œä¹Ÿä¸ä¼šå½±å“ develop çš„è¿›åº¦.</li><li><p>hotfix åˆ†æ”¯ï¼Œç”¨äºä¿®æ”¹ bug çš„åˆ†æ”¯ï¼ŒåŸºäº master åˆ†å‡ºæ¥çš„ã€‚ä¿®æ”¹ç»“æŸåï¼Œåˆå¹¶åˆ° master å’Œ develop ä¸Šå»</p><p><strong>ä½†è¿™åªæ˜¯ä¸€ä¸ªåŸºç¡€æƒ³æ³•ï¼Œå¹¶ä¸æ˜¯é€‚ç”¨äºæ‰€æœ‰çš„é¡¹ç›®çš„ï¼Œè€Œæˆ‘ä»¬éœ€è¦åšçš„ï¼Œå°±æ˜¯å¯¹æ­¤ç­–ç•¥åŠ ä»¥ä¿®æ”¹ï¼Œå˜æˆé€‚åˆè‡ªå·±çš„åˆ†æ”¯ç®¡ç†ã€‚</strong></p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;git-çš„ç®€å•ä»‹ç»&quot;&gt;&lt;a href=&quot;#git-çš„ç®€å•ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;git çš„ç®€å•ä»‹ç»&quot;&gt;&lt;/a&gt;git çš„ç®€å•ä»‹ç»&lt;/h1&gt;&lt;h2 id=&quot;æ˜¯ä»€ä¹ˆ&quot;&gt;&lt;a href=&quot;#æ˜¯ä»€ä¹ˆ&quot; class=&quot;headerlink&quot; title=&quot;æ˜¯ä»€ä¹ˆ?&quot;&gt;&lt;/a&gt;æ˜¯ä»€ä¹ˆ?&lt;/h2&gt;&lt;p&gt;   Git æ˜¯ç›®å‰ä¸–ç•Œä¸Šæœ€å…ˆè¿›çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
</feed>
